<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aplikasi Penjamin Kualitas Maturitas SPIP</title>

  <!-- Bootstrap CSS & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" />
  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <!-- Preconnect untuk percepat akses Drive -->
  <link rel="preconnect" href="https://www.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://docs.google.com" crossorigin>
  <link rel="preconnect" href="https://drive.google.com" crossorigin>

  <style>
    :root{
      --brand:#0d6efd;
      /* gradasi grade A→E: hijau → merah */
      --grade-a:#2ecc71; /* A */
      --grade-b:#a3e635; /* B */
      --grade-c:#facc15; /* C */
      --grade-d:#f97316; /* D */
      --grade-e:#ef4444; /* E */
    }

    html,body{height:100%}
    body{
      font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Noto Sans";
      background:#f8f9fa;
    }
    .sticky-toolbar{position:sticky;top:0;z-index:1030}
    .criteria-box{max-height:180px;overflow-y:auto}
    .form-hint{font-size:.85rem;color:#6c757d}

    /* === Badge Grade Kustom (pakai data-grade) === */
    .badge[data-grade]{
      border-radius:999px;
      padding:.45rem .75rem;
      font-weight:600;
      min-width:2.25rem;
      display:inline-block;
    }
    .badge[data-grade="A"]{ background:var(--grade-a) !important; color:#fff !important; }
    .badge[data-grade="B"]{ background:var(--grade-b) !important; color:#111 !important; }
    .badge[data-grade="C"]{ background:var(--grade-c) !important; color:#111 !important; }
    .badge[data-grade="D"]{ background:var(--grade-d) !important; color:#fff !important; }
    .badge[data-grade="E"]{ background:var(--grade-e) !important; color:#fff !important; }
    
  
  /* ====== PRINT / PDF STYLES ====== */
  @media print {
    @page { size: A4 portrait; margin: 14mm; }
    html, body { background: #fff !important; }
    .sticky-toolbar, .btn, .modal, .nav, #loader { display: none !important; }
    .card, .table-responsive { box-shadow: none !important; border: 0 !important; }
    .table { font-size: 12px; }
    .table thead th { background: #f1f3f5 !important; color: #000 !important; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
    .badge[data-grade] { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
    a { color: inherit !important; text-decoration: none !important; }
  }

</style>
</head>
<body>
  <div id="app" class="container my-4 my-md-5">

    <!-- Header -->
    <header class="card shadow-sm mb-4 border-0">
      <div class="card-body p-4">
        <h1 class="h3 fw-bold text-primary mb-1">Penjamin Kualitas Maturitas Penyelenggaraan SPIP</h1>
        <p class="text-muted mb-1">Periode Penilaian: 01 Juli 2024 s.d. 30 Juni 2025</p>
        <p class="text-muted small mb-0">KK 3.1 · Penilaian Struktur & Proses Efektivitas dan Efisiensi</p>
      </div>
    </header>

    <!-- Toolbar -->
    <div class="sticky-toolbar card shadow-sm border-0 mb-3">
      <div class="card-body d-flex flex-column flex-md-row gap-3 align-items-md-center">
        <div class="d-flex align-items-center gap-2">
          <i class="bi bi-building text-primary"></i>
          <label for="satker-select" class="form-label fw-semibold mb-0">Pilih Unit Organisasi (Unor)</label>
        </div>
        <select id="satker-select" class="form-select flex-grow-1" aria-label="Pilih Satuan Kerja"></select>
        <div class="ms-md-auto d-flex align-items-center gap-2">
  <div class="small text-muted" id="last-saved">—</div>
  <a href="dashboard_interactive.html" target="_blank" class="btn btn-outline-secondary btn-sm" id="btn-open-dashboard" title="Buka Dashboard" aria-label="Buka Dashboard">
    <i class="bi bi-speedometer2 me-1"></i> Dashboard
  </a>
  <button id="btn-export-pdf" class="btn btn-outline-danger btn-sm" title="Ekspor ke PDF" aria-label="Ekspor ke PDF">
    <i class="bi bi-filetype-pdf me-1"></i> Export PDF
  </button>
</div>
      </div>
      <div class="progress rounded-0" role="progressbar" aria-label="Progress penyelesaian" aria-valuemin="0" aria-valuemax="100">
        <div id="progress-bar" class="progress-bar" style="width:0%">0%</div>
      </div>
    </div>

    <!-- Loading -->
    <div id="loader" class="text-center p-5">
      <div class="spinner-border text-primary" role="status" aria-live="polite" aria-busy="true">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-2 text-muted">Menghubungkan ke database...</p>
      <p id="loader-tip" class="small text-muted">Pastikan Anonymous Sign-in aktif & aturan Firestore sesuai.</p>
    </div>

    <!-- Main -->
    <main id="main-content" class="d-none">
      <div class="card shadow-sm border-0">
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table table-striped table-hover mb-0 align-middle">
              <thead class="table-light">
  <tr>
    <th scope="col" class="px-3">Kode</th>
    <th scope="col" class="px-3">Uraian Parameter</th>
    <th scope="col" class="px-3 text-center">Status</th>
    <th scope="col" class="px-3 text-center">Main</th>
    <th scope="col" class="px-3 text-center">Aksi</th>
    <th scope="col" class="px-3 text-center">TOC</th>
    <th scope="col" class="px-3 text-center">Grade</th>
  </tr>
</thead>
              <tbody id="assessment-table-body"></tbody>
            </table>
          </div>
        </div>
      </div>
    </main>

    <!-- Modal -->
    <div class="modal fade" id="assessment-modal" tabindex="-1" aria-labelledby="modalTitle" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <div>
              <h1 class="modal-title h5" id="modalTitle">Formulir Penilaian</h1>
              <p id="modal-parameter-title" class="text-muted small mb-0"></p>
            </div>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Tutup"></button>
          </div>
          <div class="modal-body">
            <form id="assessment-form" novalidate>
              <input type="hidden" id="current-parameter-code" />

              <div class="mb-4">
                <h3 class="h6 fw-semibold mb-2">Kriteria Penilaian</h3>
                <div id="modal-criteria-container" class="criteria-box p-3 bg-light border rounded" aria-live="polite"></div>
              </div>

              <div class="row g-3">
                <div class="col-md-6">
                  <label for="metode-penilaian" class="form-label">Metode Penilaian</label>
                  <select id="metode-penilaian" class="form-select" required>
                    <option value="Wawancara">Wawancara</option>
                    <option value="Analisis Dokumen">Analisis Dokumen</option>
                    <option value="Observasi">Observasi</option>
                  </select>
                  <div class="invalid-feedback">Pilih metode penilaian.</div>
                </div>
                <div class="col-md-6">
                  <label for="simpulan" class="form-label">Simpulan Hasil Pengujian</label>
                  <select id="simpulan" class="form-select" required>
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                    <option value="D">D</option>
                    <option value="E">E</option>
                  </select>
                  <div class="invalid-feedback">Pilih simpulan.</div>
                </div>
              </div>

              <div class="mt-3">
                <label for="hasil-pengujian" class="form-label">Uraian Kondisi Detail Hasil Pengujian</label>
                <textarea id="hasil-pengujian" rows="4" class="form-control" placeholder="Jelaskan kondisi detail hasil pengujian..." required></textarea>
                <div class="invalid-feedback">Mohon isi uraian hasil pengujian.</div>
              </div>

              <div class="mt-3">
                <label for="uraian-aoi" class="form-label">Uraian AoI (Area of Improvement)</label>
                <textarea id="uraian-aoi" rows="3" class="form-control" placeholder="Jelaskan area yang perlu perbaikan..." required></textarea>
                <div class="invalid-feedback">Mohon isi uraian AoI.</div>
              </div>

              <!-- === FIELD KHUSUS SESTAMA === -->
              <hr class="my-4">
              <div id="sestama-fields" class="d-none">
                <p class="form-hint mb-2"><i class="bi bi-info-circle"></i> Bidang berikut khusus untuk <strong>Sestama</strong>.</p>
                <div class="row g-3">
                  <div class="col-md-6">
                    <label for="simpulan-sestama" class="form-label">Simpulan Hasil Pengujian (Sestama)</label>
                    <select id="simpulan-sestama" class="form-select">
                      <option value="">— Pilih —</option>
                      <option value="A">A</option><option value="B">B</option><option value="C">C</option><option value="D">D</option><option value="E">E</option>
                    </select>
                  </div>
                  <div class="col-12">
                    <label for="hasil-pengujian-sestama" class="form-label">Uraian Kondisi Detail Hasil Pengujian (Sestama)</label>
                    <textarea id="hasil-pengujian-sestama" rows="3" class="form-control" placeholder="Isikan uraian milik Sestama untuk dijadikan rujukan Unor lain..."></textarea>
                  </div>
                </div>
              </div>

              <!-- === RUJUKAN SESTAMA (read-only untuk Unor ≠ Sestama) === -->
              <div id="sestama-reference" class="mt-4 d-none">
                <div class="card border-0 shadow-sm">
                  <div class="card-body">
                    <div class="d-flex align-items-center gap-2 mb-2">
                      <i class="bi bi-journal-text text-primary"></i>
                      <strong>Rujukan (Sestama)</strong>
                    </div>
                    <dl class="row mb-0">
                      <dt class="col-sm-4">Simpulan Sestama</dt>
                      <dd class="col-sm-8" id="ref-simpulan-sestama">—</dd>
                      <dt class="col-sm-4">Uraian Sestama</dt>
                      <dd class="col-sm-8" id="ref-uraian-sestama"><span class="text-muted">Tidak ada rujukan</span></dd>
                    </dl>
                  </div>
                </div>
              </div>

              <!-- === BUKTI DUKUNG (VIEW dari Google Drive) === -->
              <div class="mt-4">
                <h3 class="h6 fw-semibold mb-2">Bukti Dukung</h3>
                <p class="text-muted small mb-3">Dokumen per grade ditarik dari Google Drive (tanpa unggah di aplikasi ini).</p>
                <div class="nav nav-pill-grade gap-2 mb-3" id="grade-tabs">
                  <button type="button" class="btn btn-primary btn-sm" data-grade="A">Grade A</button>
                  <button type="button" class="btn btn-outline-primary btn-sm" data-grade="B">Grade B</button>
                  <button type="button" class="btn btn-outline-primary btn-sm" data-grade="C">Grade C</button>
                  <button type="button" class="btn btn-outline-primary btn-sm" data-grade="D">Grade D</button>
                  <button type="button" class="btn btn-outline-primary btn-sm" data-grade="E">Grade E</button>
                </div>

                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center gap-2 mb-2">
                      <button type="button" id="btn-open-drive-folder" class="btn btn-outline-secondary btn-sm">
                        <i class="bi bi-google me-1"></i> Buka Folder Drive
                      </button>
                    </div>
                    <!-- HANYA VIEW LIST DARI DRIVE -->
                    <div id="drive-file-list" class="list-group list-group-flush small" style="min-height:3rem">
                      <div class="text-muted px-2 py-1">Pilih grade untuk memuat dokumen dari Google Drive.</div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- === /BUKTI DUKUNG === -->

            </form>
          </div>
          <div class="modal-footer">
            <button type="button" id="cancel-btn" class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button>
            <button type="submit" form="assessment-form" class="btn btn-primary">
              <span class="me-1" aria-hidden="true">💾</span> Simpan
            </button>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- Modal Preview Global (reusable, smooth) -->
  <div class="modal fade" id="preview-modal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="preview-modal-title">Preview Dokumen</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body p-0" style="height:80vh">
          <iframe id="preview-iframe" src="" style="border:0;width:100%;height:100%"></iframe>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

  <!-- Firebase + App Script (Firestore saja) -->
  <script type="module">
    // === Firebase Config (Firestore untuk data penilaian) ===
    const firebaseConfig = {
      apiKey: "AIzaSyCYwuJHeL_YlyW7zPNRGSXe_NB8r_Ql_t0",
      authDomain: "spip-8e5e9.firebaseapp.com",
      projectId: "spip-8e5e9",
      appId: "1:448004404076:web:6aa65c8de90439285db949",
      measurementId: "G-J44L941K89"
    };

    // Firebase modules (AUTH + FIRESTORE SAJA)
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, doc, onSnapshot, setDoc, getDoc, enableIndexedDbPersistence } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

    // === Google Drive Config ===
    const DRIVE_API_KEY = "AIzaSyAukkICkUg5NsFaGy0K8F-GDeOXWCWml4s"; // <- API Key kamu
    const DRIVE_FOLDERS = {
      "Sestama": {
        A: "1hTPPL7emavgqqV8_hjEVCSzUQ1gYAXQP",
        B: "1_1IkaSHd_Maz8BgkzkrENz8y7OeN2lEq",
        C: "1U0u1LVwY02L3acxmQwnulxUydN3xOdpV",
        D: "1xB5XZk8fOWNvVIi8gmZmhDT9rqSYYVd1",
        E: "1IE_Z_yL7yZz16xt6KY4OQe-yUN3CP1ZG"
      },
      "Inspektorat": {
        A: "14FnnAUn-VX6XgWMxNmt8j_4Erz0KmVls",
        B: "1K9jPDEX5BA4QphqVkWqRgBJC5mwSN1JL",
        C: "1Mh0ZiUDkZ2rfmZlifCHUKwiSW-eXLsVG",
        D: "1Bk3cEUtsC3zd7u63eKGvLgh_l9_qcv0B",
        E: "1WYet_SW3uL6m8H5tIxE1b4HqTCmzvjqM"
      },
      "Pusdatin": { A:"1qA", B:"1qB", C:"1qC", D:"1qD", E:"1qE" },  // placeholder contoh
      "D1":       { A:"2aA", B:"2aB", C:"2aC", D:"2aD", E:"2aE" },
      "D3":       { A:"3aA", B:"3aB", C:"3aC", D:"3aD", E:"3aE" },
      "Puslat":   { A:"4aA", B:"4aB", C:"4aC", D:"4aD", E:"4aE" },
      "D4":       { A:"5aA", B:"5aB", C:"5aC", D:"5aD", E:"5aE" }
    };

    function driveFolderIdFor(unit, grade){ return DRIVE_FOLDERS?.[unit]?.[grade] || null; }

    // ——— Drive API helpers ———
    function drivePreviewUrl(file) {
      const mt = file.mimeType || "";
      if (mt.includes("document"))    return `https://docs.google.com/document/d/${file.id}/preview`;
      if (mt.includes("spreadsheet")) return `https://docs.google.com/spreadsheets/d/${file.id}/preview`;
      if (mt.includes("presentation"))return `https://docs.google.com/presentation/d/${file.id}/preview`;
      return `https://drive.google.com/file/d/${file.id}/preview`;
    }

    async function listDriveFolder(folderId, signal) {
      const q = encodeURIComponent(`'${folderId}' in parents and trashed = false`);
      const fields = encodeURIComponent("files(id,name,mimeType,modifiedTime,webViewLink)");
      const url = `https://www.googleapis.com/drive/v3/files?q=${q}&fields=${fields}&key=${DRIVE_API_KEY}`;
      const res = await fetch(url, { signal });
      if (!res.ok) throw new Error("Drive API error " + res.status);
      const data = await res.json(); 
      return data.files || [];
    }

    // ——— Optimasi render ———
    function shallowEqual(a, b){
      const ka = Object.keys(a||{}), kb = Object.keys(b||{});
      if (ka.length !== kb.length) return false;
      for (const k of ka){ if (a[k]?.simpulan !== b[k]?.simpulan) return false; }
      return true;
    }

    // ——— Global cache & abort ———
    const driveCache = new Map();     // key: `${unit}_${grade}` -> files[]
    let driveFetchCtrl = null;
    let previewModal = null;

    // Data (struktur tetap)
    const SATKER_LIST = ['Inspektorat', 'Pusdatin', 'Sestama', 'D1', 'D3', 'Puslat', 'D4'];
    const ASSESSMENT_STRUCTURE = [
      { kode: `1.1.1`,
    uraian_subunsur: `Penegakan Integritas dan Nilai Etika`,
    no: ``,
    uraian_parameter: `K/L/D menegakkan integritas dan nilai etika dalam melaksanakan tugas dan fungsi organisasi`,
    kode_parameter: `1.1.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Penegakan integritas dan nilai etika telah diperbaiki secara berkelanjutan sehingga tercipta suasana kerja organisasi yang kondusif yang dapat mendorong kinerja para pegawai secara optimal`,
        tooltip: `- Setiap individu dalam organisasi dapat mendorong penerapan nilai-nilai organisasi
- Setiap individu mendukung pencapaian kinerja organisasi
- Keberhasilan pencapaian kinerja organisasi dapat dihubungkan dengan integritas dan perilaku individu serta mempengaruhi remunerasi individu`
      },
      {
        grade: 'B',
        kriteria: `Kebijakan dan implementasi organisasi telah dievaluasi untuk meningkatkan integritas dan nilai etika para pegawai`,
        tooltip: `Kebijakan dan implementasi telah dievaluasi dengan ketentuan:
- Berkala
- Terdokumentasi
- Dilakukan untuk menangani residual risk
- Hasil evaluasi telah ditindak lanjuti 
- Perbaikan telah menghasilkan kinerja yang lebih baik`
      },
      {
        grade: 'C',
        kriteria: `Penegakan integritas dan nilai etika telah dilaksanakan oleh pegawai dalam pelaksanaan tugas dan fungsinya dalam organisasi`,
        tooltip: `- Terdapat wujud keteladanan dari pimpinan atas nilai organisasi 
- Terdapat praktik pembangunan integritas dan nilai etika
- Terdapat praktik penegakan nilai etika 
- Terdapat bukti penegakan disiplin
- Terdapat pemberian punishment bagi pegawai yang melanggar dan reward bagi pegawai yang menegakan integritas dan nilai etika 
- Proses tersebut di atas dilaksanakan melalui struktur dan mekanisme yang ditetapkan`
      },
      {
        grade: 'D',
        kriteria: `Kebijakan penegakan integritas dan nilai etika organisasi telah dipahami oleh seluruh pegawai`,
        tooltip: `Kebijakan telah dikomunikasikan dan dipahami oleh:
- Pimpinan (struktural)
- Penanggungjawab penegakan integritas dan nilai etika
- Pegawai`
      },
      {
        grade: 'E',
        kriteria: `Terdapat kebijakan penegakan integritas dan nilai etika untuk seluruh pegawai dalam organisasi`,
        tooltip: `Kebijakan telah mengatur:
- Keteladanan pimpinan
- Upaya pembangunan integritas
- Nilai etika 
- Penegakan disiplin
- Pemberian reward and punishment  
- Penetapan struktur dan mekanisme penanganan penegakan integritas dan nilai etika`
      }
    ]
  },
  {
    kode: `1.2.1`,
    uraian_subunsur: `Komitmen terhadap Kompetensi`,
    no: ``,
    uraian_parameter: `Tugas dan jabatan dalam organisasi dilaksanakan dan diisi oleh SDM yang kompeten`,
    kode_parameter: `1.2.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Pengelolaan kompetensi SDM telah diperbaiki secara berkelanjutan dan secara optimal mampu mendukung pencapaian tujuan organisasi`,
        tooltip: `- Setiap posisi dalam organisasi telah diisi oleh SDM sesuai dengan standar kompetensinya 
- Penerapan standar kompetensi telah berhasil meningkatkan kinerja yang memberikan dampak bagi pencapaian tujuan organisasi
- Keberhasilan pencapaian kinerja organisasi dapat dihubungkan dengan kompetensi SDM-nya`
      },
      {
        grade: 'B',
        kriteria: `Standar kompetensi organisasi dan implementasi/pemanfaatannya telah dievaluasi untuk mengetahui efektivitasnya`,
        tooltip: `Standar kompetensi dan implementasi/pemanfaatannya telah dievaluasi dengan ketentuan:
- Berkala
- Terdokumentasi
- Dilakukan untuk menangani residual risk
- Hasil evaluasi telah ditindak lanjuti 
- Perbaikan telah menghasilkan kinerja yang lebih baik`
      },
      {
        grade: 'C',
        kriteria: `Standar kompetensi telah diimplementasikan/dimanfaatkan dalam pengelolaan/pembinaan SDM organisasi`,
        tooltip: `- Standar kompetensi dimanfaatkan untuk menyusun analisis kompetensi SDM
- Analisis kompetensi yang disusun berdasarkan standar kompetensi dimanfaatkan untuk perencanaan rekrutmen SDM
- Analisis kompetensi yang disusun berdasarkan standar kompetensi dimanfaatkan untuk perencanaan pengembangan SDM
- Standar kompetensi dimanfaatkan sebagai dasar pertimbangan pengisian jabatan (mutasi/ promosi/ seleksi)`
      },
      {
        grade: 'D',
        kriteria: `Standar kompetensi telah dikomunikasikan dan dipahami oleh seluruh pegawai organisasi`,
        tooltip: `Standar kompetensi telah dikomunikasikan dan dipahami oleh:
- Pimpinan (struktural)
- Penanggungjawab pengelolaan SDM
- Pegawai
sesuai tusinya`
      },
      {
        grade: 'E',
        kriteria: `Terdapat standar kompetensi yang jelas untuk seluruh jabatan dan posisi dalam organisasi`,
        tooltip: `Terdapat standar kompetensi yang mengatur:
- Standar kompetensi SDM struktural
- Standar kompetensi SDM fungsional
- Standar kompetensi manajerial
- Standar kompetensi sosio kultural
- Standar kompetensi teknis`
      }
    ]
  },
  {
    kode: `1.3.1`,
    uraian_subunsur: `Kepemimpinan yang Kondusif`,
    no: ``,
    uraian_parameter: `Pimpinan K/L/D menciptakan lingkungan kerja yang kondusif untuk pencapaian tujuan organisasi`,
    kode_parameter: `1.3.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Penerapan manajemen kinerja, pengelolaan keuangan, manajemen SDM, serta manajemen risiko dapat meningkatkan efektivitas dan efisiensi kinerja seluruh level pimpinan dan pegawai`,
        tooltip: `Sudah Jelas`
      },
      {
        grade: 'B',
        kriteria: `Pimpinan organisasi melaksanakan evaluasi berkala atas kebijakan pengendalian intern dan berupaya mengatasi permasalahan yang berkaitan dengan lingkungan pengendalian yang kondusif`,
        tooltip: `a. K/L/D melakukan evaluasi untuk meninjau kembali relevansi kebijakan beserta implementasinya dengan ketentuan sebagai berikut:
1. Telah dilaksanakan evaluasi berkala; 
2. Evaluasi dilaksanakan untuk menangani residual risk;
3. Tindak lanjut atas hasil evaluasi  telah dilaksanakan;
b. Pimpinan organisasi terbuka atas masukan dari pegawai dan adaptif terhadap perubahan.
c. Keluhan dari pegawai atas keterbatasan/masalah sumberdaya dukungan pelaksanaan pekerjaan dapat diatasi.`
      },
      {
        grade: 'C',
        kriteria: `Pimpinan organisasi melaksanakan kebijakan dan didukung dengan SDM yang bekerja sesuai dengan kebijakan yang ditetapkan`,
        tooltip: `a. Pimpinan organisasi menerapkan manajemen berbasis kinerja dan mempertimbangkan risiko dalam pengambilan keputusan.
b. Pimpinan organisasi memberikan keteladanan dalam beretika, berintegritas, ketaatan terhadap perundang-undangan, dan berkinerja secara efektif dan efisien.
c. Pegawai mendukung pimpinan organisasi dengan hadir dan bekerja sesuai dengan ketentuan.`
      },
      {
        grade: 'D',
        kriteria: `Pimpinan organisasi terlibat dalam penyusunan dan penetapkan kebijakan yang mendukung penciptaan lingkungan kerja yang kondusif untuk pencapaian tujuan organisasi serta memahami substansi kebijakan pengendalian intern dan mendorong penerapan kebijakan dalam berbagai interaksi kepada jajaran di bawahnya`,
        tooltip: `a. Pimpinan organisasi telah memahami substansi dari kebijakan yang telah ditetapkan.
b. Pimpinan organisasi mengarahkan pegawai agar dapat bekerja selaras dengan kebijakan, melalui:
1. Rapat internal.
2. Upacara/apel pagi.
3. Forum diskusi/jam pimpinan.
4. Interaksi informal.`
      },
      {
        grade: 'E',
        kriteria: `Pimpinan organisasi terlibat dalam penyusunan dan penetapkan kebijakan yang mendukung penciptaan lingkungan kerja yang kondusif untuk pencapaian tujuan organisasi`,
        tooltip: `Pimpinan organisasi terlibat dalam penyusunan kebijakan yang mendukung penciptaan lingkungan kerja yang kondusif untuk pencapaian tujuan organisasi, antara lain kebijakan terkait manajemen kinerja, manajemen keuangan dan aset, manajemen SDM, serta manajemen risiko.`
      }
    ]
  },
  {
    kode: `1.3.2`,
    uraian_subunsur: `Kepemimpinan yang Kondusif`,
    no: ``,
    uraian_parameter: `Pimpinan K/L/D mengalokasikan sumber daya untuk penerapan manajemen risiko`,
    kode_parameter: `1.3.2`,
    grades: [
      {
        grade: 'A',
        kriteria: `Sudah mengalokasikan sumber daya secara memadai untuk penerapan manajemen risiko pada tingkat operasional unit kerja, strategis unit kerja, dan strategis K/L/D`,
        tooltip: `a. Instansi Pemerintah telah menganggarkan dana implementasi manajemen risiko seperti rapat terkait manajemen risiko, identifikasi dan analisis risiko, penyusunan profil risiko, implementasi RTP, kegiatan monitoring dan reviu  dalam rencana kerja/DPA/DIPA  dan dalam implementasi manajemen risiko tidak terkendala kekurangan dana implementasi ditingkat operasional unit kerja, strategis unit kerja, dan strategis K/L/D
b. Minimal 70% SDM yang menjadi anggota UPR pada tingkat operasional dan strategis unit kerja serta strategis K/L/D diisi oleh orang yang berkompeten dalam bidang manajemen risiko`
      },
      {
        grade: 'B',
        kriteria: `Sudah mengalokasikan sumber daya secara memadai untuk penerapan manajemen risiko pada tingkat operasional unit kerja dan strategis unit kerja namun pada tingkat srategis K/L/D belum memadai`,
        tooltip: `a. Instansi Pemerintah telah menganggarkan dana implementasi manajemen risiko seperti rapat terkait manajemen risiko, identifikasi dan analisis risiko, penyusunan profil risiko, implementasi RTP, kegiatan monitoring dan reviu  dalam rencana kerja/DPA/DIPA  dan dalam implementasi manajemen risiko tidak terkendala kekurangan dana implementasi ditingkat operasional dan strategis unit kerja, namun masih terkendala kekurangan dana pada tingkat  strategis K/L/D dan
b. Minimal 70% SDM yang menjadi anggota UPR pada tingkat operasional dan strategis unit kerja diisi oleh orang yang berkompeten dalam bidang manajemen risiko serta kurang dari 70% SDM yang menjadi anggota UPR pada tingkat Strategis K/L/D diisi oleh orang yang berkompeten dalam bidang manajemen risiko`
      },
      {
        grade: 'C',
        kriteria: `Sudah mengalokasikan sumber daya secara memadai untuk penerapan manajemen risiko pada tingkat operasional unit kerja dan strategis unit kerja`,
        tooltip: `a. Instansi Pemerintah telah menganggarkan dana implementasi manajemen risiko seperti rapat terkait manajemen risiko, identifikasi dan analisis risiko, penyusunan profil risiko, implementasi RTP, kegiatan monitoring dan reviu  dalam rencana kerja/DPA/DIPA  dan dalam implementasi manajemen risiko tidak terkendala kekurangan dana implementasi ditingkat operasional dan strategis unit kerja
b. Minimal 70% SDM yang menjadi anggota UPR pada tingkat operasional dan strategis unit kerja diisi oleh orang yang berkompeten dalam bidang manajemen risiko`
      },
      {
        grade: 'D',
        kriteria: `Sudah mengalokasikan sumber daya secara memadai untuk penerapan manajemen risiko pada tingkat operasional unit kerja namun pada tingkat strategis unit kerja belum memadai`,
        tooltip: `a. Instansi Pemerintah telah menganggarkan dana implementasi manajemen risiko pada tingkat operasional unit kerja seperti rapat terkait manajemen risiko, identifikasi dan analisis risiko, penyusunan profil risiko, implementasi RTP, kegiatan monitoring dan reviu  dalam rencana kerja/DPA/DIPA secara memadai, namun belum memadai pada tingkat strategis unit kerja, dan/atau
b. Kurang dari 70% SDM yang menjadi anggota UPR pada tingkat operasional Unit Kerja diisi oleh orang yang berkompeten dalam bidang manajemen risiko`
      },
      {
        grade: 'E',
        kriteria: `Sudah mengalokasikan sumber daya untuk penerapan manajemen risiko pada tingkat operasional unit kerja namun belum memadai`,
        tooltip: `a. Instansi Pemerintah telah menganggarkan dana implementasi manajemen risiko pada tingkat operasional unit kerja seperti rapat terkait manajemen risiko, identifikasi dan analisis risiko, penyusunan profil risiko, implementasi RTP, kegiatan monitoring dan reviu  dalam rencana kerja/DPA/DIPA namun belum memadai, dan/atau
b. Kurang dari 70% SDM yang menjadi anggota UPR pada tingkat operasional Unit Kerja diisi oleh orang yang berkompeten dalam bidang manajemen risiko`
      }
    ]
  },
  {
    kode: `1.3.3`,
    uraian_subunsur: `Kepemimpinan yang Kondusif`,
    no: ``,
    uraian_parameter: `Pimpinan K/L/D menggunakan informasi terkait risiko dalam pengambilan keputusan`,
    kode_parameter: `1.3.3`,
    grades: [
      {
        grade: 'A',
        kriteria: `Seluruh pengambilan keputusan strategis K/L/D, strategis unit kerja, dan operasional unit kerja telah mempertimbangkan risiko dan memberikan dampak bagi pencapaian tujuan organisasi`,
        tooltip: `Seluruh keputusan pimpinan instansi maupun pimpinan unit kerja secara umum menggunakan informasi terkait risiko di tingkat operasional unit kerja, strategis unit kerja, dan strategis K/L/D dan memberikan dampak bagi pencapaian tujuan organisasi`
      },
      {
        grade: 'B',
        kriteria: `Seluruh pengambilan keputusan strategis K/L/D, strategis unit kerja, dan operasional unit kerja telah mempertimbangkan risiko`,
        tooltip: `Seluruh keputusan pimpinan instansi maupun pimpinan unit kerja secara umum menggunakan informasi terkait risiko di tingkat operasional unit kerja, strategis unit kerja, dan strategis K/L/D`
      },
      {
        grade: 'C',
        kriteria: `Seluruh pengambilan keputusan strategis unit kerja dan operasional unit kerja telah mempertimbangkan risiko`,
        tooltip: `Seluruh keputusan pimpinan instansi maupun pimpinan unit kerja secara umum menggunakan informasi terkait risiko di tingkat operasional dan strategis unit kerja`
      },
      {
        grade: 'D',
        kriteria: `Seluruh pengambilan keputusan operasional unit kerja telah mempertimbangkan risiko`,
        tooltip: `Seluruh keputusan pimpinan instansi maupun pimpinan unit kerja secara umum menggunakan informasi terkait risiko di tingkat operasional`
      },
      {
        grade: 'E',
        kriteria: `Sebagian pengambilan keputusan operasional unit kerja telah mempertimbangkan risiko`,
        tooltip: `Sebagian keputusan pimpinan instansi maupun pimpinan unit kerja secara umum menggunakan informasi terkait risiko di tingkat operasional`
      }
    ]
  },
  {
    kode: `1.3.4`,
    uraian_subunsur: ``,
    no: ``,
    uraian_parameter: `Pimpinan K/L/D mendorong penerapan manajemen risiko, melalui penggunaan kinerja penerapan manajemen risiko sebagai indikator penilaian kinerja`,
    kode_parameter: `1.3.4`,
    grades: [
      {
        grade: 'A',
        kriteria: `Kinerja penerapan manajemen risiko digunakan sebagai dasar penilaian kinerja pada seluruh UPR tingkatan operasional unit kerja, seluruh UPR tingkatan strategis unit kerja, dan UPR tingkat strategis K/L/D secara memadai dan telah dievaluasi pencapaiannya`,
        tooltip: `Kinerja penerapan manajemen risiko sudah digunakan sebagai indikator kinerja pada dokumen perencanaan UPR tingkat strategis K/L/D, seluruh UPR tingkatan strategis unit kerja, dan seluruh UPR tingkatan operasional unit kerja  secara tepat, telah diukur pencapaiannya, serta dievaluasi pencapaiannya`
      },
      {
        grade: 'B',
        kriteria: `Kinerja penerapan manajemen risiko digunakan sebagai dasar penilaian kinerja pada seluruh UPR tingkatan operasional unit kerja, seluruh UPR tingkatan strategis unit kerja, dan UPR tingkat strategis K/L/D secara memadai`,
        tooltip: `Kinerja penerapan manajemen risiko sudah digunakan sebagai indikator kinerja pada dokumen perencanaan UPR tingkat strategis K/L/D, seluruh UPR tingkatan strategis unit kerja, dan seluruh UPR tingkatan operasional unit kerja  secara tepat  dan telah diukur pencapaiannya`
      },
      {
        grade: 'C',
        kriteria: `Kinerja penerapan manajemen risiko digunakan sebagai dasar penilaian kinerja pada seluruh UPR tingkatan operasional unit kerja dan seluruh UPR tingkatan strategis unit kerja secara memadai`,
        tooltip: `Kinerja penerapan manajemen risiko sudah digunakan sebagai indikator kinerja pada dokumen perencanaan seluruh UPR tingkatan strategis unit kerja dan seluruh UPR tingkatan operasional unit kerja  secara tepat  dan telah diukur pencapaiannya`
      },
      {
        grade: 'D',
        kriteria: `Kinerja penerapan manajemen risiko digunakan sebagai dasar penilaian kinerja pada seluruh UPR tingkatan operasional unit kerja secara memadai`,
        tooltip: `Kinerja penerapan manajemen risiko sudah digunakan sebagai indikator kinerja pada dokumen perencanaan seluruh UPR tingkatan operasional unit kerja  secara tepat  dan telah diukur pencapaiannya`
      },
      {
        grade: 'E',
        kriteria: `Kinerja penerapan manajemen risiko digunakan sebagai dasar penilaian kinerja pada sebagian UPR tingkatan operasional unit kerja secara memadai`,
        tooltip: `Kinerja penerapan manajemen risiko sudah digunakan sebagai indikator kinerja pada sebagian dokumen perencanaan tingkatan operasional unit kerja secara tepat  dan telah diukur pencapaiannya`
      }
    ]
  },
  {
    kode: `1.4.1`,
    uraian_subunsur: `Struktur Organisasi Sesuai Kebutuhan`,
    no: ``,
    uraian_parameter: `Struktur organisasi dibentuk dalam rangka mendukung pencapaian sasaran strategis organisasi`,
    kode_parameter: `1.4.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `K/L/D memiliki fleksibilitas untuk menyesuaikan struktur organisasi dalam rangka mendukung perubahan proses bisnis dan perubahan perencanaan strategis`,
        tooltip: `Perbaikan struktur organisasi dan tata laksana dapat dilakukan secara berkelanjutan dengan dukungan teknologi informasi yang terintegrasi untuk mengelola arus data dan informasi dalam menjalanan fungsi-fungsi dalam proses bisnis organisasi. sehingga kedudukan fungsi berada di atas struktur.`
      },
      {
        grade: 'B',
        kriteria: `Efisiensi dan efektivitas struktur organisasi dapat dilihat secara berkala melalui pengujian atas pelaksanaan proses bisnis organisasi dan ketepatannya dengan perencanaan strategis`,
        tooltip: `K/L/D melakukan evaluasi atas K/SOP terkait struktur organisasi dan tata laksana beserta implementasinya antara lain dengan ketentuan sebagai berikut:
a. Evaluasi dilaksanakan untuk menangani residual risk;
b. Terdapat duplikasi fungsi karena struktur yang tidak efektif/efisien;
c. Arus data dan informasi yang tidak handal dalam pelaksanaan proses bisnis;
d. Perubahan lingkungan strategis.`
      },
      {
        grade: 'C',
        kriteria: `Struktur organisasi dijalankan sesuai proses bisnis organisasi dengan SDM yang mencukupi`,
        tooltip: `- Struktur organisasi telah ditindaklanjuti dengan implementasi/pelaksanaan kegiatan organisasi sesuai proses bisnis;
- Proses bisnis telah dijabarkan dengan SOP
- Organisasi telah menerapkan kebijakan/SOP yang mengatur mengenai hubungan dan jenjang pelaporan intern/arus data dan informasi.
- Organisasi telah memetakan kebutuhan pegawai untuk mendukung proses bisnis yang diantaranya mengatur mengenai analisis beban kerja untuk pimpinan dan pegawai.`
      },
      {
        grade: 'D',
        kriteria: `Proses bisnis organisasi dapat didukung dengan struktur organisasi yang ditetapkan dan personel pada setiap lini mengetahui arus data dan informasi yang diperlukan dalam melaksanaan tugas dan fungsinya`,
        tooltip: `a. Struktur organisasi dan tata laksana sesuai dengan proses bisnis yang ditetapkan dengan mempertimbangkan: 
- Ukuran dan sifat kegiatan.      
- Faktor-faktor yang menjadi pertimbangan sentralisasi/desentralisasi organisasi.
- Struktur organisasi harus mampu memfasilitasi arus informasi di dalam instansinya.
b. Struktur organisasi dan tata laksana telah dikomunikasikan dan dipahami.`
      },
      {
        grade: 'E',
        kriteria: `Terdapat penetapan struktur, tugas, dan fungsi organisasi`,
        tooltip: `Adanya struktur organisasi dan tata laksana yang disusun yang mengacu kepada peraturan terkait.`
      }
    ]
  },
  {
    kode: `1.5.1`,
    uraian_subunsur: `Pendelegasian Wewenang dan Tanggung Jawab yang Tepat`,
    no: ``,
    uraian_parameter: `Wewenang dan tanggung jawab diberikan kepada pegawai yang tepat sesuai tingkatannya untuk mendukung efektivitas dan efisiensi pelaksanaan kegiatan dalam rangka percepatan pencapaian tujuan organisasi`,
    kode_parameter: `1.5.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Pimpinan organisasi memiliki akses untuk melihat proses pendelegasian wewenang dan tanggungjawab yang diberikan dan memonitor pelaksanaan tugas fungsi yang dijalankan untuk menjamin tujuan percepatan yang diharapkan dan mendukung perbaikan secara berkelanjutan.`,
        tooltip: `a. Terdapat tools untuk memonitor pelaksanaan wewenang dan tanggungjawab yang diberikan secara berjenjang dan menampung pelaporan atas pelaksanaan wewenang dan tanggungjawab kepada jenjang di atasnya.
b. Kemudahan akses memungkinkan pimpinan untuk memberikan teguran/arahan atas pelaksanaan wewenang dan tanggung jawab pelaksanaan kegiatan sebelum menyalahi prosedur yang ditetapkan; 
c. penerima manfaat/stakeholder memberikan feedback yang baik atas kecepatan respon organisasi terhadap kebutuhan mereka.`
      },
      {
        grade: 'B',
        kriteria: `Efisiensi dan efektivitas pelaksanaan wewenang dan tanggung jawab organisasi yang didelegasikan dapat dilihat melalui evaluasi berkala atas pelaksanaan wewenang dan tanggungjawab serta analisis terhadap kualitas hasil pelaksanaan tugas/fungsi yang dilaksanakan (respon stakeholder)`,
        tooltip: `Organisasi melakukan evaluasi atas kebijakan/prosedur terkait  pendelegasian wewenang dan tanggung jawab beserta implementasinya dengan ketentuan sebagai berikut:
a. Telah dilaksanakan evaluasi berkala; 
b. Evaluasi dilaksanakan untuk menangani residual risk;
c. Tindak lanjut atas hasil evaluasi  telah dilaksanakan.
d. Menindaklanjuti keluhan/kekurangan kualitas pelaksanaan tugas fungsi yang disampaikan oleh stakeholder.`
      },
      {
        grade: 'C',
        kriteria: `Pelaksanaan tugas dan fungsi yang didelegasikan dilaksanakan sesuai dengan kebijakan/prosedur yang ditetapkan`,
        tooltip: `a Tugas fungsi dan program/kegiatan telah dilaksanakan dengan menerapkan pendelegasian wewenang dan tanggung jawab sebagaimana diatur dalam kebijakan/prosedur yang ditetapkan;
b. Pihak-pihak yang menerima pendelegasian telah melaksanakan tugas dan fungsinya sesuai dengan prosedur dan menyampaikan pelaporan kepada pihak yg memberikan wewenang secara berkala sesuai kebijakan.`
      },
      {
        grade: 'D',
        kriteria: `Kegiatan/prosedur yang dalam pelaksanaannya telah didelegasikan kepada struktur dibawahnya telah dipahami dan diketahui oleh pihak terkait`,
        tooltip: `a.Kebijakan/prosedur yang mengatur pelaksanaan pendelegasian wewenang dan tanggung jawab telah dipahami oleh pegawai yang berkepentingan;
b. Kebijakan/prosedur yang mengatur pelaksanaan pendelegasian wewenang dan tanggung jawab telah dikomunikasikan kepada seluruh pegawai dan stakeholder.`
      },
      {
        grade: 'E',
        kriteria: `Pimpinan organisasi menetapkan kebijakan terkait wewenang dan tanggung jawab pelaksanaan kegiatan kepada struktur di bawahnya secara berjenjang`,
        tooltip: `Organisasi memiliki kebijakan/prosedur yang mengatur pendelegasian wewenang dan tanggung jawab dalam pelaksanaan tugas fungsi dan program/kegiatan dalam rangka mendukung pencapaian tujuan organisasi yang memuat antara lain:
- Prosedur pelaksanaan wewenang dan tanggungjawab yang didelegasikan;
- Alur hubungan vertikal serta horizontal dan kejelasan ruang lingkung pendelegasian wewenang dan tanggung jawab;
- Kewajiban dan pertanggungjawaban pihak yang diberikan wewenang kepada pihak yang memberikan wewenang.`
      }
    ]
  },
  {
    kode: `1.6.1`,
    uraian_subunsur: `Penyusunan dan Penerapan Kebijakan yang Sehat tentang Pembinaan SDM`,
    no: ``,
    uraian_parameter: `Penerapan kebijakan manajemen dan praktik pembinaan SDM sehingga dapat digunakan secara maksimal untuk mencapai tujuan organisasi`,
    kode_parameter: `1.6.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Pengelolaan SDM telah diperbaiki secara berkelanjutan dan secara optimal mampu mendukung pencapaian tujuan organisasi`,
        tooltip: `Perbaikan berkelanjutan telah menghasilkan:
- Pengelolaan SDM telah berhasil meningkatkan kinerja yang memberikan dampak bagi pencapaian tujuan organisasi
- Keberhasilan pencapaian kinerja organisasi dapat dihubungkan dengan pengelolaan SDM-nya
- Pengelolaan SDM mampu meningkatkan kepuasan kerja pegawai`
      },
      {
        grade: 'B',
        kriteria: `Kebijakan dan implementasi terkait pengelolaan SDM organisasi telah dievaluasi sehingga dapat diketahui efektivitasnya`,
        tooltip: `Kebijakan dan implementasi telah dievaluasi dengan ketentuan:
- Berkala
- Terdokumentasi
- Dilakukan untuk menangani residual risk
- Hasil evaluasi telah ditindak lanjuti 
- Perbaikan telah menghasilkan kinerja yang lebih baik`
      },
      {
        grade: 'C',
        kriteria: `Pengelolaan SDM telah dilaksanakan sejak rekrutmen sampai dengan pemberhentian pegawai sesuai kebijakan/prosedur yang ditetapkan`,
        tooltip: `- Pengelolaan SDM dilakukan sesuai dengan kebijakan/prosedur yang ditetapkan
- Pengelolaan SDM dilakukan sesuai dengan perencanaan yang disusun
- Terdapat database kepegawaian yang update dan handal yang dapat dimanfaatkan untuk perencanaan pengelolaan SDM
- Pengelolaan SDM dilakukan sebagai upaya untuk menangani risiko yang disebabkan kelemahan SDM/Man`
      },
      {
        grade: 'D',
        kriteria: `Kebijakan terkait pengelolaan SDM telah dikomunikasikan dan dipahami oleh pihak yang berkepentingan dalam organisasi`,
        tooltip: `- Kebijakan telah dipahami oleh penanggungjawab pengelolaan SDM
- Kebijakan telah dikomunikasikan kepada pimpinan (struktural), pegawai`
      },
      {
        grade: 'E',
        kriteria: `Terdapat kebijakan yang mengatur pengelolaan SDM sejak rekrutmen sampai dengan pemberhentian pegawai`,
        tooltip: `Kebijakan telah mengatur:
- Prosedur penerimaan pegawai
- Prosedur penilaian kinerja individu pegawai
- Prosedur kenaikan pangkat, jabatan, golongan
- Prosedur kenaikan gaji
- Prosedur pengembangan kompetensi (diklat, tugas belajar, ijin belajar)
- Prosedur mutasi
- Prosedur seleksi
- Prosedur pemberhentian pegawai
- Prosedur pensiun
- Prosedur supervisi oleh pimpinan`
      }
    ]
  },
  {
    kode: `1.6.2`,
    uraian_subunsur: `Penyusunan dan Penerapan Kebijakan yang Sehat tentang Pembinaan SDM`,
    no: ``,
    uraian_parameter: `Pegawai telah mendapatkan fasilitas untuk meningkatkan kompetensi dan keterampilan terkait manajemen risiko`,
    kode_parameter: `1.6.2`,
    grades: [
      {
        grade: 'A',
        kriteria: `Terdapat upaya peningkatan kompetensi dan keterampilan terkait manajemen risiko yang memadai dengan cakupan seluruh pegawai dan telah dievaluasi pencapaiannya`,
        tooltip: `A. Kriteria upaya peningkatan kompetensi yang memadai:
1. Memiliki program pelatihan/sertifikasi terkait manajemen risiko baik tahunan maupun lima tahunan baik ditingkat K/L/Pemerintah daerah maupun Kerja/OPD;
2. Unit Kerja Eseon I/OPD memiliki program in house training tahunan; 
3. Instansi Pemerintah telah melaksanakan program pelatihan/sertifikasi tersebut dan dibuktikan dengan adanya laporan pelatihan dan bukti perolehan sertifikat keahlian (setiap Unit Kerja Eseon I/OPD terdapat pegawai yang memiliki sertifikat keahlian); 
4. In House Training telah dilaksanakan setidaknya satu kali dalam satu semester oleh masing-masing Unit Kerja Eseon I/OPD serta instruktur harus orang yang telah memiliki sertifikat keahlian; 

B. Kriteria Output:
Pelatihan dan in house training untuk meningkatkan kompetensi telah dilakukan untuk setiap tingkatan risiko:
1. Strategis K/L/D untuk Eselon I adalah lebih dari 90% pejabat;
2. Strategis Unit Eselon I/OPD untuk Eselon II adalah lebih dari 90% pejabat;
3. Operasional Kerja/OPD untuk Eselon III ke atas sampai dengan staf adalah lebih dari 90% pejabat dan staff di level ini.

C. Terdapat evaluasi atas dampak peningkatan kompetensi dan ketrampilan terhadap kualitas proses dan hasil manajemen risiko`
      },
      {
        grade: 'B',
        kriteria: `Terdapat upaya peningkatan kompetensi dan keterampilan terkait manajemen risiko yang memadai dengan cakupan seluruh pegawai`,
        tooltip: `A. Kriteria upaya peningkatan kompetensi yang memadai:
1. Memiliki program pelatihan/sertifikasi terkait manajemen risiko baik tahunan maupun lima tahunan baik ditingkat K/L/Pemerintah daerah maupun Kerja/OPD;
2. Unit Kerja Eseon I/OPD memiliki program in house training tahunan; 
3. Instansi Pemerintah telah melaksanakan program pelatihan/sertifikasi tersebut dan dibuktikan dengan adanya laporan pelatihan dan bukti perolehan sertifikat keahlian (setiap Unit Kerja Eseon I/OPD terdapat pegawai yang memiliki sertifikat keahlian); 
4. In House Training telah dilaksanakan setidaknya satu kali dalam satu semester oleh masing-masing Unit Kerja Eseon I/OPD serta instruktur harus orang yang telah memiliki sertifikat keahlian; 

B. Kriteria Output:
Pelatihan dan in house training untuk meningkatkan kompetensi telah dilakukan untuk setiap tingkatan risiko:
1. Strategis K/L/D untuk Eselon I adalah lebih dari 90% pejabat;
2. Strategis Unit Eselon I/OPD untuk Eselon II adalah lebih dari 90% pejabat;
3. Operasional Kerja/OPD untuk Eselon III ke atas sampai dengan staf adalah lebih dari 90% pejabat dan staff di level ini.`
      },
      {
        grade: 'C',
        kriteria: `Terdapat upaya peningkatan kompetensi dan keterampilan terkait manajemen risikoyang memadai dengan cakupan sebagian besar pegawai`,
        tooltip: `A. Kriteria upaya peningkatan kompetensi yang memadai:
1. Memiliki program pelatihan/sertifikasi terkait manajemen risiko baik tahunan maupun lima tahunan baik ditingkat K/L/Pemerintah daerah maupun Unit Kerja/OPD;
2. Unit Kerja/OPD memiliki program in house training tahunan; 
3. Instansi Pemerintah telah melaksanakan program pelatihan/sertifikasi tersebut dan dibuktikan dengan adanya laporan pelatihan dan bukti perolehan sertifikat keahlian (setiap Unit Kerja/OPD terdapat pegawai yang memiliki sertifikat keahlian); 
4. In House Training telah dilaksanakan setidaknya satu kali dalam satu semester oleh masing-masing unit Kerja/OPD  serta instruktur harus orang yang telah memiliki sertifikat keahlian; 

B. Kriria Output:
Pelatihan dan in house training untuk meningkatkan kompetensi telah dilakukan untuk setiap tingkatan risiko:
1. Strategis Pemda untuk Eselon I adalah 71%-90% pejabat;
2. Strategis Unit Eselon I/OPD untuk Eselon II adalah 71%-90% pejabat;
3. Operasional Unit Eselon I/OPD untuk Eselon III ke atas sampai dengan staf adalah 71%-90% pejabat dan staff di level ini.`
      },
      {
        grade: 'D',
        kriteria: `Terdapat upaya peningkatan kompetensi dan keterampilan terkait manajemen risiko yang memadai dengan cakupan sebagian pegawai`,
        tooltip: `A. Kriteria Memadai:
1. Memiliki program pelatihan/sertifikasi terkait manajemen risiko baik tahunan maupun lima tahunan baik ditingkat K/L/Pemerintah daerah maupun  Unit Kerja/OPD;
2.  Unit Kerja/OPD memiliki program in house training tahunan; 
3. Instansi Pemerintah telah melaksanakan program pelatihan/sertifikasi tersebut dan dibuktikan dengan adanya laporan pelatihan dan bukti perolehan sertifikat keahlian (setiap Unit Kerja/OPD terdapat pegawai yang memiliki sertifikat keahlian); 
4. In House Training telah dilaksanakan setidaknya satu kali dalam satu semester oleh masing2  Unit Kerja/OPD serta instruktur harus orang yang telah memiliki sertifikat keahlian; 

B. Kriteria Output:
Pelatihan dan in house training untuk meningkatkan kompetensi telah dilakukan untuk setiap tingkatan risiko:
1. Strategis K/L/D untuk Eselon I adalah 50% - 70% pejabat;
2. Strategis  Unit Eselon I/OPD untuk Eselon II adalah 50% -70% pejabat;
3. Operasional  Unit Eselon I/OPD untuk Eselon III ke atas sampai dengan staf adalah 50% -70% pejabat dan staff di level ini.`
      },
      {
        grade: 'E',
        kriteria: `Terdapat upaya peningkatan kompetensi dan keterampilan terkait manajemen risiko namun belum memadai`,
        tooltip: `Kriteria belum memadai apabila terdapat parameter point 1-4 dalam kriteria memadai tidak terpenuhi.
Kriteria Memadai:
1. Memiliki program pelatihan/sertifikasi terkait manajemen risiko baik tahunan maupun lima tahunan baik ditingkat K/L/Pemerintah daerah maupun  Unit Kerja/OPD;
2.  Unit Kerja/OPD memiliki program in house training tahunan; 
3. Instansi Pemerintah telah melaksanakan program pelatihan/sertifikasi tersebut dan dibuktikan dengan adanya laporan pelatihan dan bukti perolehan sertifikat keahlian (setiap Unit Kerja/OPD terdapat pegawai yang memiliki sertifikat keahlian); 
4. In House Training telah dilaksanakan setidaknya satu kali dalam satu semester oleh masing2  Unit Kerja/OPD serta instruktur harus orang yang telah memiliki sertifikat keahlian; 

B. Kriteria Output:
Pelatihan dan in house training untuk meningkatkan kompetensi telah dilakukan untuk setiap tingkatan risiko:
1. Strategis K/L/D untuk Eselon I adalah < 50% pejabat;
2. Strategis  Unit Eselon I/OPD untuk Eselon II adalah < 50% pejabat;
3. Operasional  Unit Eselon I/OPD untuk Eselon III ke atas sampai dengan staf adalah < 50% pejabat dan staff di level ini.`
      }
    ]
  },
  {
    kode: `1.6.3`,
    uraian_subunsur: `Penyusunan dan Penerapan Kebijakan yang Sehat tentang Pembinaan SDM`,
    no: ``,
    uraian_parameter: `Pegawai memiliki kesadaran terkait manajemen risiko`,
    kode_parameter: `1.6.3`,
    grades: [
      {
        grade: 'A',
        kriteria: `Seluruh pegawai telah memiliki pemahaman terkait manajemen risiko`,
        tooltip: `100% pegawai sampel menunjukan kesadaran/keaktifan dalam penerapan MR`
      },
      {
        grade: 'B',
        kriteria: `Sebagian besar pegawai telah memiliki pemahaman terkait manajemen risiko`,
        tooltip: `70-99% pegawai sampel menunjukan kesadaran/keaktifan dalam penerapan MR`
      },
      {
        grade: 'C',
        kriteria: `Sebagian pegawai telah memiliki pemahaman terkait manajemen risiko`,
        tooltip: `50% - 70% pegawai sampel menunjukan kesadaran/keaktifan dalam penerapan MR`
      },
      {
        grade: 'D',
        kriteria: `Sebagian kecil pegawai telah memiliki pemahaman terkait manajemen risiko`,
        tooltip: `20% - 49% pegawai sampel menunjukan kesadaran/keaktifan dalam penerapan MR`
      },
      {
        grade: 'E',
        kriteria: `Beberapa pegawai telah memiliki kesadaran pemahaman terkait manajemen risiko`,
        tooltip: `< 20% pegawai sampel menunjukan kesadaran/keaktifan dalam penerapan MR`
      }
    ]
  },
  {
    kode: `1.7.1`,
    uraian_subunsur: `Perwujudan Peran APIP yang Efektf`,
    no: ``,
    uraian_parameter: `Pengawasan APIP telah dapat memberikan nilai tambah pada perbaikan pengendalian organisasi`,
    kode_parameter: `1.7.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `APIP telah menjadi unit yang terus belajar baik dari dalam maupun dari luar organisasi untuk perbaikan berkelanjutan`,
        tooltip: `Mengikuti syarat Level 5 Kapabilitas APIP (Optimizing)`
      },
      {
        grade: 'B',
        kriteria: `APIP telah mengintegrasikan semua informasi di seluruh organisasi untuk memperbaiki tata kelola dan manajemen risiko`,
        tooltip: `Mengikuti syarat Level 4 Kapabilitas APIP (Managed)`
      },
      {
        grade: 'C',
        kriteria: `Praktik profesional dan audit internal telah ditetapkan secara seragam`,
        tooltip: `Mengikuti syarat Level 3 Kapabilitas APIP (Integrated)`
      },
      {
        grade: 'D',
        kriteria: `Proses audit dilakukan secara tetap (rutin) dan berulang`,
        tooltip: `Mengikuti syarat Level 2 Kapabilitas APIP (Infrastructure)`
      },
      {
        grade: 'E',
        kriteria: `Tidak ada praktik yang tetap, tidak ada kapabilitas yang berulang dan tergantung pada kinerja individu`,
        tooltip: `Mengikuti syarat Level 1 Kapabilitas APIP (Initial)`
      }
    ]
  },
  {
    kode: `1.8.1`,
    uraian_subunsur: `Hubungan Kerja yang Baik dengan Instansi Pemerintah Terkait`,
    no: ``,
    uraian_parameter: `Pimpinan K/L/D menjalin hubungan kerja yang baik (kemitraan) dengan instansi lain terkait dengan upaya pencapaian tujuan organisasi.`,
    kode_parameter: `1.8.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Pelaksanaan hubungan kerja yang baik dengan mitra kerjasama organisasi menghasilkan efektivitas pencapaian tujuan organisasi dan efisiensi penggunaan sumberdaya masing-masing instansi`,
        tooltip: `Pimpinan organisasi telah menjalin hubungan kerja yang baik dengan instansi lain melalui pembagian peran dan ukuran kinerja yang diharapkan dapat saling mendukung kepada tujuan masing-masing. Pembagian peran mendukung pimpinan untuk mengoptimalkan sumber daya yang ada untuk melaksanakan kegiatan sesuai lingkupnya.`
      },
      {
        grade: 'B',
        kriteria: `Pelaksanaan kebijakan kerjasama organisasi dievaluasi secara berkala`,
        tooltip: `Organisasi melakukan evaluasi atas kebijakan/prosedur pelaksanaan kerjasama dan mekanisme kerja antar unit/organisasi/mitra kerja beserta implementasinya dengan ketentuan sebagai berikut:
a. Telah dilaksanakan evaluasi berkala; 
b. Evaluasi dilaksanakan untuk menangani hambatan koordinasi/kerjasama;
c. Tindak lanjut atas hasil evaluasi  telah dilaksanakan dengan pembaharuan kebijakan/perubahan pola kerjasama yang diperlukan.`
      },
      {
        grade: 'C',
        kriteria: `Masing-masing pihak melaksanakan kegiatan sesuai dengan lingkup kewenangan masing-masing sesuai kebijakan dan ukuran kinerja yang ditetapkan`,
        tooltip: `Organisasi melaksanakan komunikasi, koordinasi, pertukaran data dan informasi dengan unit/organisasi/mitra kerja sesuai dengan kebijakan/prosedur dan kebutuhan dalam rangka pencapaian tujuan organisasi.`
      },
      {
        grade: 'D',
        kriteria: `Pubilkasi kebijakan kerjasama organisasi kepada para pihak yang berkepentingan (antara lain subjek, objek, dan penerima manfaat kerjasama)`,
        tooltip: `Kebijakan/prosedur yang mengatur pelaksanaan kerjasama dan mekanisme kerja antar unit/organisasi/mitra kerja telah dikomunikasikan dan dipahami oleh pihak yang berkepentingan.`
      },
      {
        grade: 'E',
        kriteria: `Pimpinan organisasi menetapkan mekanisme hubungan kerja/tata cara kerjasama dengan instansi lain`,
        tooltip: `Adanya kebijakan/prosedur yang mengatur pelaksanaan kerjasama dan mekanisme kerja antar unit/organisasi/mitra kerja dalam upaya pencapaian tujuan organisasi. Kebijakan/prosedur tersebut antara lain memuat:
- lingkup dan hasil kerjasama yang diharapkan;
- alur komunikasi dan koordinasi;
- wewenang, tugas, fungsi, hak, dan kewajiban masing-masing pihak;
- ukuran hasil kerjasama dalam rangka mencapai tujuan organisasi masing-masing.`
      }
    ]
  },
  {
    kode: `1.8.2`,
    uraian_subunsur: `Hubungan Kerja yang Baik dengan Instansi Pemerintah Terkait`,
    no: ``,
    uraian_parameter: `Dalam rangka menciptakan hubungan kerja yang baik, K/L/D telah mengidentifikasi, menilai, dan mengelola risiko (termasuk implikasi dari transfer risiko) terkait kemitraan`,
    kode_parameter: `1.8.2`,
    grades: [
      {
        grade: 'A',
        kriteria: `Instansi Pemerintah telah memiliki kebijakan pengelolaan risiko terkait kemitraan, penerapannya telah terintegrasi dengan proses bisnis Instansi Pemerintah, telah direviu secara berkala dan dijadikan bahan pembelajaran`,
        tooltip: `A. Instansi Pemerintah telah memiliki kebijakan pengelolaan risiko terkait kemitraan, telah dilakukan reviu secara berkala dan hasil reviu dijadikan media pembelajaran.
B. Kriteria implementasi adalah sebagai berikut: 
1. Terintegrasi apabila penerapan manajemen risiko: 
a. Telah menyatu dalam proses perencanaan kegiatan kemitraan;
b. Manajemen risiko diterapkan diseluruh kegiatan kemitraan;
c. Dirancang untuk mengelola seluruh risiko yang muncul
d. Menginkorporasikan hasil dari manajemen risiko kedalam dokumen kinerja dan pengambilan keputusan.
2. Kriteria memadai apabila penerapan manajemen risiko telah dilakukan terhadap semua kemitraan yang memiliki peran yang penting dalam organisasi.`
      },
      {
        grade: 'B',
        kriteria: `Instansi Pemerintah telah memiliki kebijakan pengelolaan risiko terkait kemitraan dan penerapannya telah terintegrasi dengan proses bisnis Instansi Pemerintah`,
        tooltip: `A. Instansi Pemerintah telah memiliki kebijakan pengelolaan risiko terkait kemitraan.
B. Kriteria implementasi adalah sebagai berikut: 
1. Terintegrasi apabila penerapan manajemen risiko: 
a. Telah menyatu dalam proses perencanaan kegiatan kemitraan;
b. Manajemen risiko diterapkan diseluruh kegiatan kemitraan;
c. Dirancang untuk mengelola seluruh risiko yang muncul
d. Menginkorporasikan hasil dari manajemen risiko kedalam dokumen kinerja dan pengambilan keputusan.
2. Kriteria memadai apabila penerapan manajemen risiko telah dilakukan terhadap semua kemitraan yang memiliki peran yang penting dalam organisasi.`
      },
      {
        grade: 'C',
        kriteria: `Instansi Pemerintah telah memiliki kebijakan pengelolaan risiko terkait kemitraan dan telah diterapkan dengan memadai`,
        tooltip: `A. Instansi Pemerintah telah memiliki kebijakan pengelolaan risiko terkait kemitraan.
B. Kriteria implementasi secara memadai apabila penerapan manajemen risiko telah dilakukan terhadap semua kemitraan yang memiliki peran yang penting dalam organisasi.`
      },
      {
        grade: 'D',
        kriteria: `Instansi Pemerintah telah memiliki kebijakan pengelolaan risiko terkait kemitraan namun belum diterapkan dengan memadai`,
        tooltip: `A. Instansi Pemerintah telah memiliki kebijakan pengelolaan risiko terkait kemitraan.
B. Kriteria implementasi secara tidak memadai apabila sebagian dari kemitraan utama (yang memiliki peran penting terhadap organisasi) yang telah menerapkan manajemen risiko.`
      },
      {
        grade: 'E',
        kriteria: `Instansi Pemerintah telah memiliki kebijakan pengelolaan risiko terkait kemitraan namun belum diterapkan sama sekali`,
        tooltip: `Sudah Jelas`
      }
    ]
  },
  {
    kode: `2.1.1`,
    uraian_subunsur: `Identifikasi Risiko`,
    no: ``,
    uraian_parameter: `K/L/D telah memiliki Kebijakan Manajemen Risiko`,
    kode_parameter: `2.1.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `K/L/D telah memiliki Kebijakan Manajemen Risiko yang memadai, terintegrasi serta telah direviu secara berkala`,
        tooltip: `Kebijakan Manajemen Risiko memiliki kriteria memadai dan dalam kebijakan tersebut telah menjelaskan bahwa: 
1. Penerapan manajemen risiko oleh Instansi Pemerintah telah menyatu/menjadi pertimbangan dalam proses perencanaan (perumusan target dan strategi pencapaian tujuan Instansi Pemerintah), 
2. Manajemen risiko diterapkan diseluruh level organisasi
3. Manajemen risiko dirancang untuk mengelola seluruh risiko yang muncul
4. Menginkorporasikan hasil dari manajemen risiko kedalam dokumen kinerja dan pengambilan keputusan
5. Kebijakan tersebut telah direviu secara berkala`
      },
      {
        grade: 'B',
        kriteria: `K/L/D telah memiliki Kebijakan Manajemen Risiko yang memadai dan terintegrasi`,
        tooltip: `Terintegrasi berarti bahwa Kebijakan Manajemen Risiko memiliki kriteria memadai dan dalam kebijakan tersebut telah menjelaskan bahwa: 
1. Penerapan manajemen risiko oleh Instansi Pemerintah telah menyatu/menjadi pertimbangan dalam proses perencanaan (perumusan target dan strategi pencapaian tujuan Instansi Pemerintah), 
2. Manajemen risiko diterapkan diseluruh level organisasi
3. Manajemen risiko dirancang untuk mengelola seluruh risiko yang muncul
4. Menginkorporasikan hasil dari manajemen risiko kedalam dokumen kinerja dan pengambilan keputusan`
      },
      {
        grade: 'C',
        kriteria: `K/L/D telah memiliki Kebijakan Manajemen Risiko yang memadai`,
        tooltip: `Memadai apabila Kebijakan Manajemen Risiko yang dibuat telah memuat:
1. Penetapan konteks manajemen risiko (konteks risiko strategis dan Operasional)
2. Identifikasi risiko setidaknya memuat penyebab risiko, dampak risiko, pihak yang terkena dampak
3. Analisis risiko setidaknya memuat metode prioritisasi risiko
4. Penetapan kriteria penilaian risiko (kriteria dampak, kriteria kemungkinan, dan skala nilai risiko);
5. Penetapan struktur manajemen risiko dan alur pertanggungjawaban;
6. Penetapan risk appetite/selera risiko
7. Gambaran proses manajemen risiko.
9. Pembangunan budaya risiko`
      },
      {
        grade: 'D',
        kriteria: `K/L/D telah memiliki Kebijakan Manajemen Risiko namun belum memadai`,
        tooltip: `Belum memadai apabila K/L/D telah memiliki kebijakan terkait manajemen risiko namun belum memenuhi seluruh kriteria kebijakan yang memadai (hanya memenuhi beberapa parameter yang ada dalam kriteria memadai)`
      },
      {
        grade: 'E',
        kriteria: `K/L/D telah memiliki Kebijakan Manajemen Risiko namun sama sekali belum memuat persyaratan dalam kriteria memadai`,
        tooltip: `Sudah Jelas`
      }
    ]
  },
  {
    kode: `2.1.2`,
    uraian_subunsur: `Identifikasi Risiko`,
    no: ``,
    uraian_parameter: `Risiko telah teridentifikasi dan  dituangkan dalam register risiko`,
    kode_parameter: `2.1.2`,
    grades: [
      {
        grade: 'A',
        kriteria: `Kualitas identifikasi risiko dan register risiko memadai, serta telah mengidentifikasi peluang`,
        tooltip: `Kualitas Identifikasi Risiko dan Risk Register yang memadai bila:
1. Proses identifikasi risiko menghasilkan risiko utama dan peluang yang bisa diambil;
2. Seluruh sasaran strategis K/L/D, sasaran strategis unit kerja serta program dan kegiatan yang telah ditetapkan dalam penetapan konteks telah diidentifikasi risikonya;
3. Pihak yang terlibat setidakya seluruh pegawai unit kerja yang benar-benar memahami proses bisnis organisasi;
4. Proses identifikasi telah sesuai dengan kebijakan yang dibuat;
5. Risk register setidaknya memuat hal berikut: a. uraian tujuan/sasaran strategis/kegiatan, b. Indikator  tujuan/sasaran strategis/kegiatan, c. Uraian Risiko, d. Pemilik risiko, e. Uraian dan sumber penyebab, f. Uraian dan pihak yang terdampak;
6. Pernyataan risiko, RTP, penyebab secara umum jelas/dapat dipahami (>90% sampling).`
      },
      {
        grade: 'B',
        kriteria: `Kualitas identifikasi risiko dan register risiko memadai`,
        tooltip: `Kualitas Identifikasi Risiko dan Risk Register yang memadai bila:
1. Proses identifikasi risiko menghasilkan risiko utama;
2. Seluruh program dan kegiatan serta sasaran statregis unit kerja yang telah ditetapkan dalam penetapan konteks telah diidentifikasi risikonya;
3. Pihak yang terlibat setidakya seluruh pegawai unit kerja yang benar-benar memahami proses bisnis organisasi;
4. Proses identifikasi telah sesuai dengan kebijakan yang dibuat;
5. Risk register setidaknya memuat hal berikut: a. uraian tujuan/sasaran strategis/kegiatan, b. Indikator  tujuan/sasaran strategis/kegiatan, c. Uraian Risiko, d. Pemilik risiko, e. Uraian dan sumber penyebab, f. Uraian dan pihak yang terdampak;
6. Pernyataan risiko, RTP penyebab, secara umum jelas/dapat dipahami (70%-90% sampling).`
      },
      {
        grade: 'C',
        kriteria: `Kualitas identifikasi risiko dan register risiko cukup memadai`,
        tooltip: `Kualitas Identifikasi Risiko dan Risk Register cukup memadai bila:
1. Proses identifikasi risiko menghasilkan risiko utama;
2. Seluruh program dan kegiatan yang telah ditetapkan dalam penetapan konteks telah diidentifikasi risikonya;
3. Pihak yang terlibat setidakya 2/3 pegawai unit kerja yang benar-benar memahami proses bisnis organisasi;
4. Proses identifikasi telah sesuai dengan kebijakan yang dibuat;
5. Risk register setidaknya memuat hal berikut: a. uraian tujuan/sasaran strategis/kegiatan, b. Indikator  tujuan/sasaran strategis/kegiatan, c. Uraian Risiko, d. Pemilik risiko, e. Uraian dan sumber penyebab, f. Uraian dan pihak yang terdampak;
6. Pernyataan risiko, RTP penyebab sebagia besar jelas/dapat dipahami (50%-70% sampling).`
      },
      {
        grade: 'D',
        kriteria: `Kualitas identifikasi risiko dan register risiko belum memadai`,
        tooltip: `Kualitas Identifikasi Risiko dan Risk Register belum memadai bila:
1. Proses identifikasi risiko menghasilkan daftar risiko
2. Belum seluruh program dan kegiatan yang telah ditetapkan dalam penetapan konteks telah diidentifikasi risikonya;
3. Pihak yang terlibat kurang dari 2/3 pegawai unit kerja yang benar-benar memahami proses bisnis organisasi;
4. Proses identifikasi belum sesuai dengan kebijakan yang dibuat, baru sebatas 1-2 proses yang sesuai dengan kebijakannya;
5. Risk register yang dibuat belum sesuai dengan kriteria memadai yaitu masih ada hal-hal sebagai berikut ini yang tidak dicantumkan:  a. uraian tujuan/sasaran strategis/kegiatan, b. Indikator  tujuan/sasaran strategis/kegiatan, c. Uraian Risiko, d. Pemilik risiko, e. Uraian dan sumber penyebab, f. Uraian dan pihak yang terdampak
6. Pernyataan risiko, RTP penyebab secara umum kurang jelas/dapat dipahami (<50%sampling).`
      },
      {
        grade: 'E',
        kriteria: `Register risiko telah disusun`,
        tooltip: `Sudah Jelas`
      }
    ]
  },
  {
    kode: `2.1.3`,
    uraian_subunsur: `Identifikasi Risiko`,
    no: ``,
    uraian_parameter: `Proses manajemen risiko telah melekat pada proses bisnis K/L/D`,
    kode_parameter: `2.1.3`,
    grades: [
      {
        grade: 'A',
        kriteria: `Proses manajemen risiko mendukung inovasi, diidentifikasi untuk memaksimalkan peluang dan dijadikan bahan pembelajaran`,
        tooltip: `Proses manajemen risiko telah terintegrasi dengan proses bisnis utama dari unit kerja terkait dan menjadi pertimbangan dalam proses perencaan strategis K/L/D dan Unit kerja Eselon I/II/OPD maupun dalam proses perencanaan operasional unit kerja Eselon I/II/OPD. Proses manajemen risiko juga dilakukan untuk mengidentifikasi dan memaksimalkan peluang-peluang yang ada serta mendorong adanya inovasi-inovasi. Disamping itu, hasil dari proses manajemen risiko menjadi bahan pembelajaran dalam pengambilan keputusan`
      },
      {
        grade: 'B',
        kriteria: `Proses manajemen risiko telah diterapkan secara konsisten, terintegrasi dengan proses bisnis dan proses perencanaan tingkat operasional unit kerja, strategis unit kerja, dan strategis K/L/D`,
        tooltip: `Proses manajemen risiko telah melekat (terintegrasi) dengan proses bisnis utama dari unit kerja terkait dan menjadi pertimbangan dalam proses perencanaan strategis K/L/D, strategis unit kerja, dan operasional unit kerja`
      },
      {
        grade: 'C',
        kriteria: `Proses manajemen risiko telah diterapkan secara konsisten, terintegrasi dengan proses bisnis dan proses perencanaan tingkat operasional unit kerja dan strategis unit kerja`,
        tooltip: `Proses manajemen risiko telah terintegrasi dengan proses bisnis utama dari unit kerja terkait dan menjadi pertimbangan dalam proses perencanaan pada strategis unit kerja dan pada operasional unit kerja`
      },
      {
        grade: 'D',
        kriteria: `Proses manajemen risiko telah terintegrasi dengan dengan proses bisnis dan proses perencanaan tingkat operasional unit kerja serta telah diterapkan secara konsisten`,
        tooltip: `Proses manajemen risiko telah terintegrasi dengan proses bisnis utama dari unit kerja terkait dan menjadi pertimbangan dalam proses perencaan pada operasional unit kerja serta implementasi dari proses manajemen risiko ini telah dilakukan secara konsisten oleh unit kerja.`
      },
      {
        grade: 'E',
        kriteria: `Proses manajemen risiko mulai dihubungkan dengan dengan proses bisnis dan proses perencanaan tingkat operasional unit kerja namun belum diterapkan secara konsisten`,
        tooltip: `Proses manajemen risiko mulai dihubungkan dengan proses bisnis utama dari unit kerja terkait dan mulai diterapkan dalam proses perencaan unit kerja. Namun demikian implementasi dari proses manajemen risiko ini belum dilakukan secara konsisten oleh unit kerja.`
      }
    ]
  },
  {
    kode: `2.2.1`,
    uraian_subunsur: `Analisis Risiko`,
    no: ``,
    uraian_parameter: `Seluruh risiko telah dianalisis dampak dan tingkat keterjadiannya`,
    kode_parameter: `2.2.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Analisis risiko telah dilakukan secara memadai terhadap risiko operasional unit kerja, risiko strategis unit kerja, dan risiko strategis K/L/D`,
        tooltip: `A. Instansi Pemerintah telah melakukan analisis risiko untuk hasil identifikasi risiko di tingkat operasional unit kerja, strategis unit kerja, dan strategis K/L/D secara memadai yaitu:
1. Telah sesuai dengan kebijakan (termasuk selera risiko dan langkah analisis);
2. Kriteria yang digunakan baik dampak maupun probabilitasnya konsisten antara satu unit kerja dengan unit kerja lain;
3. Proses analisis risiko dilaksanakan setidaknya oleh orang2 yang memiliki kompetensi.
B. Hasil dari proses ini telah menghasilkan tren risiko.`
      },
      {
        grade: 'B',
        kriteria: `Analisis risiko telah dilakukan secara memadai terhadap risiko operasional unit kerja dan risiko strategis unit kerja`,
        tooltip: `A. Instansi Pemerintah telah melakukan analisis risiko untuk hasil identifikasi risiko di tingkat operasional unit kerja dan strategis unit kerja secara memadai yaitu:
1. Telah sesuai dengan kebijakan (termasuk selera risiko dan langkah analisis);
2. Kriteria yang digunakan baik dampak maupun probabilitasnya konsisten antara satu unit kerja dengan unit kerja lain;
3. Proses analisis risiko dilaksanakan setidaknya oleh orang2 yang memiliki kompetensi.
B. Hasil dari proses ini telah menghasilkan tren risiko.`
      },
      {
        grade: 'C',
        kriteria: `Analisis risiko telah dilakukan secara memadai terhadap risiko operasional unit kerja`,
        tooltip: `A. Instansi Pemerintah telah melakukan analisis risiko untuk hasil identifikasi risiko di tingkat operasional unit kerja secara memadai yaitu:
1. Telah sesuai dengan kebijakan (termasuk selera risiko dan langkah analisis);
2. Kriteria yang digunakan baik dampak maupun probabilitasnya konsisten antara satu unit kerja dengan unit kerja lain;
3. Proses analisis risiko dilaksanakan setidaknya oleh orang2 yang memiliki kompetensi.
B. Hasil dari proses ini telah menghasilkan tren risiko.`
      },
      {
        grade: 'D',
        kriteria: `Analisis risiko telah dilakukan terhadap seluruh risiko operasional yang teridentifikasi namun belum memadai`,
        tooltip: `Instansi Pemerintah telah melakukan proses analisis risiko terhadap seluruh risiko operasional unit kerja yang telah diidentifikasi. Namun demikian proses analisis risiko belum dikerjakan secara memadai sesuai dengan 3 kriteria sistematis (sebagaimana disebutkan pada kriteria C)`
      },
      {
        grade: 'E',
        kriteria: `Analisis risiko telah dilakukan terhadap sebagian risiko operasional yang teridentifikasi.`,
        tooltip: `Analisis hanya dilakukan pada sebagian dari keseluruhan risiko yang teridentifikasi`
      }
    ]
  },
  {
    kode: `2.2.2`,
    uraian_subunsur: `Analisis Risiko`,
    no: ``,
    uraian_parameter: `K/L/D telah menentukan prioritas risiko`,
    kode_parameter: `2.2.2`,
    grades: [
      {
        grade: 'A',
        kriteria: `Instansi Pemerintah telah menentukan prioritas risiko pada seluruh risiko operasional unit kerja, strategis unit kerja, strategis K/L/D`,
        tooltip: `1. Instansi Pemerintah telah melakukan evaluasi risiko untuk menentukan prioritas risiko operasional unit kerja, strategis unit kerja, dan strategis K/L/D terhadap seluruh hasil analisis risiko yang telah dilakukan;
2. Proses evaluasi risiko telah didokumentasikan.
3. Evaluasi risiko dilakukan sesuai dengan kebijakan kriteria risiko yang telah ditetapkan sebelumnya`
      },
      {
        grade: 'B',
        kriteria: `Instansi Pemerintah telah menentukan prioritas risiko pada seluruh risiko operasional unit kerja dan strategis unit kerja`,
        tooltip: `1. Instansi Pemerintah telah melakukan evaluasi risiko untuk menentukan prioritas risiko operasional unit kerja dan strategis unit kerja terhadap seluruh hasil analisis risiko yang telah dilakukan;
2. Proses evaluasi risiko telah didokumentasikan.
3. Evaluasi risiko dilakukan sesuai dengan kebijakan kriteria risiko yang telah ditetapkan sebelumnya`
      },
      {
        grade: 'C',
        kriteria: `Instansi Pemerintah telah menentukan prioritas risiko pada seluruh risiko operasional unit kerja dan sebagian risiko strategis unit kerja`,
        tooltip: `1. Instansi Pemerintah telah melakukan evaluasi risiko untuk menentukan prioritas seluruh risiko operasional unit kerja dan sebagian risiko strategis unit kerja terhadap seluruh hasil analisis risiko yang telah dilakukan;
2. Proses evaluasi risiko telah didokumentasikan.
3. Evaluasi risiko dilakukan sesuai dengan kebijakan kriteria risiko yang telah ditetapkan sebelumnya`
      },
      {
        grade: 'D',
        kriteria: `Instansi Pemerintah telah menentukan prioritas risiko pada seluruh risiko operasional unit kerja`,
        tooltip: `1. Instansi Pemerintah telah melakukan evaluasi risiko untuk menentukan prioritas risiko operasional unit kerja serta telah mendokumentasikan proses evaluasi risiko tersebut evaluasi risiko telah dilakukan terhadap seluruh hasil analis risiko yang telah dilakukan.
2. Evaluasi risiko yang dilakukan belum sesuai dengan kebijakan kriteria risiko yang telah ditetapkan sebelumnya`
      },
      {
        grade: 'E',
        kriteria: `Instansi Pemerintah telah menentukan prioritas risiko pada sebagian risiko operasional unit kerja`,
        tooltip: `1. Instansi Pemerintah telah melakukan evaluasi risiko untuk menentukan prioritas risiko operasional unit kerja serta telah mendokumentasikan proses evaluasi risiko tersebut namun demikian evaluasi risiko belum dilakukan terhadap seluruh hasil analis risiko yang telah dilakukan.
2. Evaluasi risiko yang dilakukan belum sesuai dengan kebijakan kriteria risiko yang telah ditetapkan sebelumnya`
      }
    ]
  },
  {
    kode: `2.2.3`,
    uraian_subunsur: `Analisis Risiko`,
    no: ``,
    uraian_parameter: `K/L/D telah menentukan rencana tindak pengendalian`,
    kode_parameter: `2.2.3`,
    grades: [
      {
        grade: 'A',
        kriteria: `Instansi Pemerintah telah menentukan rencana tindak pengendalian terhadap risiko operasional unit kerja, strategis unit kerja, dan strategis K/L/D secara memadai`,
        tooltip: `>60%  RTP terhadap risiko operasional unit kerja, strategis unit kerja, dan strategis K/L/D yang disusun  (sampling) telah relevan dengan tujuan yang ingin dicapai, jelas target waktu, penanggung jawab, ukuran pelaksanaan, secara substansi dinilai dapat mengurangi dampak/menghilangkan penyebab,realistis.`
      },
      {
        grade: 'B',
        kriteria: `Instansi Pemerintah telah menentukan rencana tindak pengendalian terhadap risiko operasional unit kerja dan strategis unit kerja secara memadai`,
        tooltip: `>60% RTP terhadap risiko operasional unit kerja dan strategis unit kerja yang disusun  (sampling) telah relevan dengan tujuan yang ingin dicapai, jelas target waktu, penanggung jawab, ukuran pelaksanaan, secara substansi dinilai dapat mengurangi dampak/menghilangkan penyebab,realistis.`
      },
      {
        grade: 'C',
        kriteria: `Instansi Pemerintah telah menentukan rencana tindak pengendalian terhadap seluruh risiko operasional unit kerja dan sebagian risiko strategis unit kerja yang telah diprioritaskan`,
        tooltip: `>60% RTP terhadap risiko operasional unit kerja dan <60% RTP terhadap risiko strategis unit kerja yang disusun  (sampling) telah relevan dengan tujuan yang ingin dicapai, jelas target waktu, penanggung jawab, ukuran pelaksanaan, secara substansi dinilai dapat mengurangi dampak/menghilangkan penyebab,realistis.`
      },
      {
        grade: 'D',
        kriteria: `Instansi Pemerintah telah menentukan rencana tindak pengendalian terhadap seluruh risiko operasional unit kerja yang telah diprioritaskan`,
        tooltip: `>60% RTP terhadap risiko operasional unit kerja yang disusun  (sampling) telah relevan dengan tujuan yang ingin dicapai, jelas target waktu, penanggung jawab, ukuran pelaksanaan, secara substansi dinilai dapat mengurangi dampak/menghilangkan penyebab,realistis.`
      },
      {
        grade: 'E',
        kriteria: `Instansi Pemerintah telah menentukan rencana tindak pengendalian terhadap sebagian risiko operasional unit kerja yang telah diprioritaskan`,
        tooltip: `<60% RTP terhadap risiko operasional unit kerja yang disusun  (sampling) telah relevan dengan tujuan yang ingin dicapai, jelas target waktu, penanggung jawab, ukuran pelaksanaan, secara substansi dinilai dapat mengurangi dampak/menghilangkan penyebab,realistis.`
      }
    ]
  },
  {
    kode: `2.2.4`,
    uraian_subunsur: ``,
    no: ``,
    uraian_parameter: `Tindak pengendalian telah diimplementasikan`,
    kode_parameter: `2.2.4`,
    grades: [
      {
        grade: 'A',
        kriteria: `Tindak pengendalian terhadap seluruh risiko operasional unit kerja, risiko strategis unit kerja, dan risiko strategis K/L/D telah diimplementasikan`,
        tooltip: `>60% RTP terhadap risiko operasional unit kerja, strategis unit kerja, dan strategis K/L/D (sampling) yang direncanakan telah diimplementasikan dan didukung oleh sumber daya yang dibutuhkan`
      },
      {
        grade: 'B',
        kriteria: `Tindak pengendalian terhadap seluruh risiko operasional unit kerja dan risiko strategis unit kerja telah diimplementasikan`,
        tooltip: `>60% RTP terhadap risiko operasional unit kerja dan strategis unit kerja (sampling) yang direncanakan telah diimplementasikan dan didukung oleh sumber daya yang dibutuhkan`
      },
      {
        grade: 'C',
        kriteria: `Tindak pengendalian terhadap seluruh risiko operasional unit kerja dan sebagian risiko strategis unit kerja telah diimplementasikan`,
        tooltip: `>60% RTP terhadap risiko operasional unit kerja dan <60% RTP terhadap risiko strategis unit kerja (sampling) yang direncanakan telah diimplementasikan dan didukung oleh sumber daya yang dibutuhkan`
      },
      {
        grade: 'D',
        kriteria: `Tindak pengendalian terhadap seluruh risiko operasional unit kerja telah diimplementasikan`,
        tooltip: `>60% RTP terhadap risiko operasional unit kerja (sampling) yang direncanakan telah diimplementasikan dan didukung oleh sumber daya yang dibutuhkan`
      },
      {
        grade: 'E',
        kriteria: `Tindak pengendalian terhadap sebagian risiko operasional unit kerja telah diimplementasikan`,
        tooltip: `<60% RTP terhadap risiko operasional unit kerja (sampling) yang direncanakan telah diimplementasikan dan didukung oleh sumber daya yang dibutuhkan`
      }
    ]
  },
  {
    kode: `2.2.5`,
    uraian_subunsur: ``,
    no: ``,
    uraian_parameter: `Tindak pengendalian efektif menurunkan risiko`,
    kode_parameter: `2.2.5`,
    grades: [
      {
        grade: 'A',
        kriteria: `Tindak pengendalian telah efektif menurunkan risiko operasional unit kerja, strategis unit kerja, dan strategis K/L/D`,
        tooltip: `RTP untuk risiko tingkat operasional unit kerja, tingkat strategis unit kerja, dan tingkat strategis K/L/D mampu menurunkan level risiko sebesar >60%.
Misalnya terdapat  20 risiko yang yang perlu ditangani (diluar batas risk tolerance), dari 20 risiko tersebut ternyata terdapat 5 kejadian risiko yang mana 2 kejadian masih dalam batas risk tolerance sedangkan 3 kejadian diluar batas risk tolerance. Maka efektivitas penangan risiko dihitung dengan cara ((20-3)/20)X100%=95%.`
      },
      {
        grade: 'B',
        kriteria: `Tindak pengendalian telah efektif menurunkan risiko operasional unit kerja dan strategis unit kerja`,
        tooltip: `RTP untuk risiko tingkat operasional unit kerja dan tingkat strategis unit kerja mampu menurunkan level risiko sebesar >60%.
Misalnya terdapat  20 risiko yang yang perlu ditangani (diluar batas risk tolerance), dari 20 risiko tersebut ternyata terdapat 5 kejadian risiko yang mana 2 kejadian masih dalam batas risk tolerance sedangkan 3 kejadian diluar batas risk tolerance. Maka efektivitas penangan risiko dihitung dengan cara ((20-3)/20)X100%=95%.`
      },
      {
        grade: 'C',
        kriteria: `Tindak pengendalian efektif menurunkan seluruh risiko operasional unit kerja dan sebagian risiko strategis unit kerja`,
        tooltip: `RTP untuk risiko tingkat operasional unit kerja mampu menurunkan level risiko sebesar >60% dan risiko tingkat operasional unit kerja mampu menurunkan level risiko sebesar >60%.
Misalnya terdapat  20 risiko yang yang perlu ditangani (diluar batas risk tolerance), dari 20 risiko tersebut ternyata terdapat 5 kejadian risiko yang mana 2 kejadian masih dalam batas risk tolerance sedangkan 3 kejadian diluar batas risk tolerance. Maka efektivitas penangan risiko dihitung dengan cara ((20-3)/20)X100%=95%.`
      },
      {
        grade: 'D',
        kriteria: `Tindak pengendalian efektif menurunkan seluruh risiko operasional unit kerja`,
        tooltip: `RTP untuk risiko operasional unit kerja mampu menurunkan level risiko sebesar >60%`
      },
      {
        grade: 'E',
        kriteria: `Tindak pengendalian efektif menurunkan sebagian risiko operasional unit kerja`,
        tooltip: `RTP untuk risiko operasional unit kerja mampu menurunkan level risiko sebesar <60%.`
      }
    ]
  },
  {
    kode: `3.1.1`,
    uraian_subunsur: `Reviu atas Kinerja`,
    no: ``,
    uraian_parameter: `Pimpinan K/L/D membandingkan tolok ukur kinerja dengan capaian kinerja secara berkala untuk mengatasi hambatan kinerja, menetapkan strategi perbaikan, dan menilai kinerja suatu unit sampai dengan periode tertentu dalam rangka mengawal pencapaian tujuan organisasi`,
    kode_parameter: `3.1.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Pelaksanaan reviu kinerja mendukung pencapaian kinerja organisasi`,
        tooltip: `a. Terdapat perbaikan yang berkelanjutan atas kinerja organisasi, unit kerja, kegiatan, dan pegawai sebagai akibat pelaksanaan reviu kinerja,
b. Reviu kinerja memungkinkan penilaian terhadap tolok ukur kinerja seluruh level pimpinan dan pegawai dalam mendukung pencapaian tujuan organisasi.
c. Hasil reviu kinerja digunakan pimpinan organisasi dalam penetapan kebijakan pelaksanaan kegiatan, pengalokasikan sumber daya, dan pertimbangan dalam penilaian kinerja secara individual.`
      },
      {
        grade: 'B',
        kriteria: `Kebijakan dan pelaksanaan reviu kinerja organisasi oleh masing-masing jenjang pimpinan telah dievaluasi secara berkala`,
        tooltip: `K/L/D melakukan evaluasi atas kebijakan/prosedur reviu kinerja dengan ketentuan sebagai berikut:
1. Dilaksanakan secara berkala;
2. Dilaksanakan untuk menangani residual risk; dan
3. Tindak lanjut atas hasil evaluasi  telah dilaksanakan.`
      },
      {
        grade: 'C',
        kriteria: `Reviu kinerja organisasi dilaksanakan dan didokumentasikan dengan baik untuk dibandingkan pengaruhnya terhadap capaian kinerja periode berikutnya`,
        tooltip: `a. Reviu kinerja telah dilaksanakan secara berjenjang dengan didasarkan pada tolok ukur kinerja yang ditetapkan,
b. Rekomendasi/arahan pimpinan yang diberikan relevan dengan kendala pencapaian kinerja yang ditemukan dan tepat sasaran,
c. Rekomendasi /arahan pimpinan dilaksanakan,
d. Perbaikan capaian kinerja dapat ditunjukan sebagai akibat pelaksanaan rekomendasi perbaikan.`
      },
      {
        grade: 'D',
        kriteria: `Kewajiban pelaksanaan reviu kinerja diketahui oleh seluruh pimpinan unit dan pegawai`,
        tooltip: `Pimpinan unit dan pegawai telah mengetahui target kinerja yang harus dicapai dan seluruh kegiatan yang dilaksanakan memiliki tolok ukur kinerja dan wajib direviu secara berkala sesuai jenjang tanggung jawabnya.`
      },
      {
        grade: 'E',
        kriteria: `Pimpinan organisasi dan jajaran di bawahnya secara berjenjang memiliki tanggungjawab/kewajiban untuk melaksanakan reviu kinerja secara berkala`,
        tooltip: `Adanya kebijakan/prosedur terkait pelaksanaan reviu kinerja organisasi, unit kerja, kegiatan, dan pegawai.`
      }
    ]
  },
  {
    kode: `3.2.1`,
    uraian_subunsur: `Pembinaan SDM`,
    no: ``,
    uraian_parameter: `Pembinaan SDM dilakukan sehingga setiap pegawai dapat memberikan manfaat optimal dalam pencapaian tujuan organisasi`,
    kode_parameter: `3.2.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Pembinaan SDM organisasi telah diperbaiki secara berkelanjutan dan secara optimal mampu mendukung pencapaian tujuan organisasi`,
        tooltip: `- Pembinaan SDM telah mampu menyesuaikan dengan perubahan lingkungan strategis
- Pembinaan SDM telah berhasil meningkatkan kinerja yang memberikan dampak bagi pencapaian tujuan organisasi
- Keberhasilan pencapaian kinerja organisasi dapat dihubungkan dengan pembinaan SDM-nya`
      },
      {
        grade: 'B',
        kriteria: `Kebijakan dan implementasi terkait pembinaan SDM organisasi telah dievaluasi sehingga dapat diketahui efektivitasnya`,
        tooltip: `Kebijakan dan implementasi telah dievaluasi dengan ketentuan:
- Berkala 
- Terdokumentasi
- Dilakukan untuk menangani residual risk
- Hasil evaluasi telah ditindak lanjuti 
- Perbaikan telah menghasilkan kinerja yang lebih baik`
      },
      {
        grade: 'C',
        kriteria: `Pembinaan SDM telah dilaksanakan sesuai kebijakan/prosedur yang ditetapkan organisasi`,
        tooltip: `- Pembinaan SDM dilakukan sebagai upaya untuk mencapai visi, misi, tujuan dan sasaran organisasi
- Pembinaan SDM dilakukan sesuai dengan perencanaan yang disusun
- Perencanaan pembinaan SDM disusun dengan mempertimbangkan gap kompetensi pegawai dan penugasan yang akan dilaksanakannya
- Pembinaan SDM dilakukan sebagai upaya untuk menangani risiko yang disebabkan kelemahan SDM/Man`
      },
      {
        grade: 'D',
        kriteria: `Kebijakan terkait pembinaan SDM telah dikomunikasikan dan dipahami oleh pihak yang berkepentingan`,
        tooltip: `- Kebijakan telah dipahami oleh penanggungjawab pengelolaan SDM
- Kebijakan telah dikomunikasikan kepada pimpinan (struktural) dan pegawai`
      },
      {
        grade: 'E',
        kriteria: `Terdapat kebijakan yang mengatur pembinaan SDM untuk mendukung pelaksanaan tugas dan fungsi organisasi`,
        tooltip: `Kebijakan telah mengatur:
- Prosedur pendidikan dan pelatihan pegawai
- Rencana pengembangan karir pegawai
- Sistem penilaian kinerja pegawai
- Sistem kompensasi, program kesejahteraan, dan fasilitas pegawai
untuk seluruh pegawai baik pimpinan maupun staf`
      }
    ]
  },
  {
    kode: `3.3.1`,
    uraian_subunsur: `Pengendalian atas Pengelolaan Sistem Informasi`,
    no: ``,
    uraian_parameter: `Pengendalian atas pengelolaan sistem informasi dilakukan untuk memastikan sistem informasi dapat menyajikan data yang akurat dan tepat waktu untuk digunakan oleh pengguna`,
    kode_parameter: `3.3.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Perbaikan terkait pengelolaan sistem informasi organisasi dilakukan secara berkelanjutan.`,
        tooltip: `a. Terdapat sistem pengelolaan sistem informasi yang terintegrasi;
b. Terdapat perbaikan berkelanjutan atas pengelolaan sistem informasi sesuai dengan perubahan lingkungan strategis;
c. Sistem informasi menghasilkan seluruh data yang dibutuhkan untuk pelaporan dan pengambilan keputusan  oleh pimpinan.
c. Pengelolaan sistem informasi telah mendukung pencapaian tujuan organisasi.`
      },
      {
        grade: 'B',
        kriteria: `Kebijakan pengendalian atas pengelolaan sistem informasi organisasi telah dievaluasi secara berkala.`,
        tooltip: `K/L/D melakukan evaluasi atas K/SOP terkait pengelolaan sistem informasi beserta implementasinya dengan ketentuan sebagai berikut:
1. Telah dilaksanakan evaluasi berkala;
2. Evaluasi dilaksanakan untuk menangani residual risk;
3. Tindak lanjut atas hasil evaluasi  telah dilaksanakan.
4. Perbaikan menghasilkan perbaikan kualitas atas informasi yang dihasilkan.`
      },
      {
        grade: 'C',
        kriteria: `Kebijakan pengelolaan sistem informasi organisasi digunakan dalam analisis kebutuhan dukungan sistem informasi, kemanfaatan sistem informasi existing, serta struktur pengelola dan pengguna sistem informasi beserta wewenang dan tanggungjawabnya.`,
        tooltip: `Seluruh kebijakan/SOP tentang pengelolaan sistem informasi telah diimplementasikan, antara lain:
a. Sistem informasi yang digunakan telah dianalisis kemanfaatannya bagi pencapaian tujuan organisasi;
b. Aset-aset yang berhubungan dengan teknologi informasi telah dipetakan dan dicatat serta dianalisis kebutuhannya;
c. Struktur organisasi pengelola sistem informasi telah menjalankan proses bisnis yang diatur dengan SOP;
d. Kewenangan dan tanggung jawab pengelola sistem informasi dan pengguna sistem informasi dijalankan sesuai dengan perannya masing-masing.`
      },
      {
        grade: 'D',
        kriteria: `Unit pengelola sistem informasi organisasi dan pengguna mengetahui kebijakan pengelolaan sistem informasi.`,
        tooltip: `Unit pengelola dan pengguna sistem informasi memahami prosedur pengelolaan sistem informasi dan tanggung jawab sesuai dengan perannya masing-masing.`
      },
      {
        grade: 'E',
        kriteria: `Pimpinan organisasi menetapkan kebijakan/grand design pengelolaan sistem informasi.`,
        tooltip: `Adanya kebijakan pengelolaan sistem informasi yang antara lain mempertimbangkan:
a. Risiko penggunaan sistem informasi;
b. Prosedur otorisasi atas sistem informasi;
c. Penetapan aset teknologi informasi yang perlu dikelola dan rencana penyusunan kebijakan dan prosedur teknologi informasi;
d. Penetapan struktur organisasi untuk mengelola sistem informasi (termasuk program pengamanan);
e. Kebijakan dan prosedur pemisahan fungsi dalam pengelolaan sistem informasi; dan
f. Pedoman rencana kontinjensi (contingency plan).`
      }
    ]
  },
  {
    kode: `3.4.1`,
    uraian_subunsur: `Pengendalian Fisik atas Aset`,
    no: ``,
    uraian_parameter: `Pengelolaan BMN/D dilakukan untuk menjamin aset tersedia dan dapat digunakan dengan baik oleh pengguna dalam rangka mendukung kinerja organisasi`,
    kode_parameter: `3.4.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Perbaikan berkelanjutan atas pengelolaan aset organisasi`,
        tooltip: `Perbaikan berkelanjutan atas pengelolaan aset didukung dengan sistem pengendalian atas aset yang terintegrasi dan menghasilkan aset yang tersedia secara optimal dalam mendukung kinerja organisasi; antara lain ditunjukan dengan kondisi:
a. tidak terdapat aset dengan kondisi rusak baik ringan maupun berat;
b. tidak terdapat keluhan atas penggunaan aset oleh pengguna;
c. tidak terdapat aset pribadi yang digunakan untuk keperluan organisasi akibat keterbatasan aset.`
      },
      {
        grade: 'B',
        kriteria: `Kebijakan/prosedur pengelolaan atas aset organisasi termasuk pengamanan fisik atas aset dievaluasi secara berkala`,
        tooltip: `K/L/D melakukan evaluasi atas K/SOP terkait pengendalian fisik atas aset beserta implementasinya dengan ketentuan sebagai berikut:
a. Telah dilaksanakan evaluasi berkala;
b. Evaluasi dilaksanakan untuk menangani residual risk;
c. Tindak lanjut atas hasil evaluasi  telah dilaksanakan.
d. Evaluasi meningkatkan kepuasan penggunaan aset oleh pengguna aset dalam mendukung pencapaian kinerja.`
      },
      {
        grade: 'C',
        kriteria: `Kebijakan/prosedur pengelolaan atas aset organisasi termasuk pengamanan fisik atas aset diimplementasikan secara memadai`,
        tooltip: `a. Kebijakan pengelolaan aset diimplementasikan, antara lain:
- Aset yang berisiko hilang, dicuri, rusak, digunakan tanpa hak secara fisik diamankan dan akses ke aset tersebut dikendalikan.
- Aset secara periodik dihitung dan dibandingkan dengan catatan pengendalian; setiap perbedaan diperiksa secara teliti.
- Identitas aset dilekatkan pada masing-masing fisik aset.
- Persediaan dan perlengkapan disimpan di tempat yang diamankan secara fisik dan dilindungi dari kerusakan.
b. Observasi dilakukan secara rutin oleh pengelola aset untuk melihat secara langsung kegiatan pengamanan dan penggunaan aset sudah sesuai dengan kebijakan/SOP yang ditetapkan.
c. Kejadian dalam penggunaan aset yang menimbulkan risiko rusak segera ditangani dengan pengamanan dan perbaikan  yang diperlukan agar aset dapat segera digunakan kembali.
d. Sebagian besar pengguna aset dapat memperoleh manfaat atas keberadaan aset dalam mendukung kinerja organsisasi.`
      },
      {
        grade: 'D',
        kriteria: `Kebijakan pengelolaan aset organisasi dipahami oleh pengelola aset dan pengguna aset`,
        tooltip: `Kebijakan/SOP tentang pengelolaan aset disampaikan kepada seluruh pejabat dan sebagian besar pegawai serta pihak lain yang berkepentingan (eksternal).`
      },
      {
        grade: 'E',
        kriteria: `Pimpinan organisasi menetapkan kebijakan/prosedur pengelolaan BMN/D`,
        tooltip: `a. Adanya kebijakan mengenai aset yang memuat antara lain perencanaan kebutuhan dan penganggaran, pengadaan, pengunaan, pemanfaatan, pengamanan, dan pemeliharaan, penilaian, pemindahtanganan, pemusnahan, penghapusan, penatausahaan, dan pembinaan pengawasan dan pengendalian.
b. Kebijakan pengelolaan aset mempertimbangkan identifikasi, pengamanan, dan rencana pemulihan setelah bencana (disaster recovery plan).`
      }
    ]
  },
  {
    kode: `3.5.1`,
    uraian_subunsur: `Penetapan dan Reviu atas Indikator dan Ukuran Kinerja`,
    no: ``,
    uraian_parameter: `Kegiatan pengendalian atas penetapan dan reviu atas indikator dan ukuran kinerja dilakukan untuk menjamin keandalan ukuran dan ketepatan penetapan indikator masing-masing unit secara berjenjang dibandingkan dengan IKU organisasi`,
    kode_parameter: `3.5.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Perbaikan berkelanjutan atas penetapan dan reviu atas indikator dan ukuran kinerja organisasi`,
        tooltip: `Perbaikan berkelanjutan atas kebijakan/prosedur penetapan indikator dan ukuran kinerja menghasilkan pencapaian tujuan organisasi.`
      },
      {
        grade: 'B',
        kriteria: `Kebijakan/prosedur penetapan dan reviu atas indikator dan ukuran kinerja organisasi dievaluasi secara berkala`,
        tooltip: `a.  K/L/D telah melaksanakan reviu secara berkala terhadap kebijakan/prosedur penetapan indikator dan ukuran kinerja dari organisasi, unit kerja, kegiatan, sampai dengan pegawai.
b. Hasil reviu telah ditindaklanjuti dengan perbaikan perumusan indikator dan ukuran kinerja.
c. Indikator dan ukuran kinerja yang ditetapkan mencapai kriteria tepat dan andal.`
      },
      {
        grade: 'C',
        kriteria: `Kebijakan/prosedur penetapan dan reviu atas indikator dan ukuran kinerja organisasi dilaksanakan secara memadai.`,
        tooltip: `Indikator dan ukuran kinerja direviu dan divalidasi secara periodik atas ketepatan dan keandalan ukuran dan indikator kinerja.`
      },
      {
        grade: 'D',
        kriteria: `Kebijakan/prosedur penetapan dan reviu atas indikator dan ukuran kinerja organisasi dipahami namun belum sepenuhnya diimplementasikan.`,
        tooltip: `Setiap tingkatan pada organisasi sampai dengan individu telah memahami prosedur penetapan indikator dan ukuran kinerja terutama unit/pegawai yang menjalankan fungsi perencanaan kinerja namun belum sepenuhnya tepat dan andal.`
      },
      {
        grade: 'E',
        kriteria: `Pimpinan organisasi menetapkan kebijakan/prosedur penetapan dan reviu atas indikator dan ukuran kinerja.`,
        tooltip: `Adanya kebijakan/prosedur sebagai pedoman penetapan atas indikator dan ukuran kinerja untuk tingkat unit, kegiatan, sampai dengan individu dan memuat bagaimana pimpinan melaksanaan reviu atas ketepatan indikator dan ukuran kinerjanya.`
      }
    ]
  },
  {
    kode: `3.6.1`,
    uraian_subunsur: `Pemisahan Fungsi`,
    no: ``,
    uraian_parameter: `Terdapat pemisahan fungsi sehingga seluruh aspek utama transaksi dan kejadian tidak dikendalikan hanya oleh satu orang`,
    kode_parameter: `3.6.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Pemisahan fungsi telah diperbaiki secara berkelanjutan dan secara optimal mampu mendukung pencapaian tujuan organisasi`,
        tooltip: `- Pemisahan fungsi telah mampu menyesuaikan dengan perubahan lingkungan strategis
- Pemisahan fungsi secara efektif mampu memitigasi risiko kolusi dan penyalahgunaan wewenang
- Pemisahan fungsi mampu membuat pelaksanaan program dan kegiatan lebih efektif dalam mencapai tujuan organisasi`
      },
      {
        grade: 'B',
        kriteria: `Kebijakan dan implementasi terkait pemisahan fungsi dalam proses transaksi dan kejadian telah dievaluasi sehingga dapat diketahui efektivitasnya`,
        tooltip: `Kebijakan dan implementasi telah dievaluasi dengan ketentuan:
- Berkala
- Terdokumentasi
- Dilakukan untuk menangani residual risk
- Hasil evaluasi telah ditindak lanjuti 
- Perbaikan telah menghasilkan kinerja yang lebih baik`
      },
      {
        grade: 'C',
        kriteria: `Pemisahan fungsi dalam proses transaksi dan kejadian telah dilaksanakan sesuai kebijakan/prosedur yang ditetapkan`,
        tooltip: `- Pemisahan fungsi dilaksanakan sesuai ketentuan (struktur organisasi, peraturan/keputusan, SOP, petunjuk teknis/petunjuk pelaksanaan, dan/atau kebijakan lain)
- Pemisahan fungsi dilaksanakan baik pada kegiatan yang terkait dengan keuangan (penerimaan/pengeluaran) maupun kegiatan teknis operasional organisasi
- Pemisahan fungsi dilakukan sebagai upaya untuk menangani risiko yang disebabkan kelemahan alur/prosedur`
      },
      {
        grade: 'D',
        kriteria: `Kebijakan terkait pemisahan fungsi dalam proses transaksi dan kejadian telah dikomunikasikan dan dipahami oleh pihak yang berkepentingan`,
        tooltip: `- Kebijakan telah dipahami oleh penanggungjawab pengelolaan keuangan/kegiatan
- Kebijakan telah dikomunikasikan kepada pimpinan (struktural) dan pegawai`
      },
      {
        grade: 'E',
        kriteria: `Terdapat kebijakan yang mengatur pemisahan fungsi dalam proses transaksi dan kejadian`,
        tooltip: `Kebijakan telah mengatur:
- Tanggung jawab dan tugas atas transaksi atau kejadian telah dipisahkan di antara pegawai berbeda yang terkait dengan otorisasi, persetujuan, pemrosesan dan pencatatan, pembayaran dan penerimaan dana, reviu dan audit, penyimpanan dan penanganan aset
- Pelimpahan tugas dan kewenangan secara sistematik ke sejumlah orang untuk memastikan terdapat proses check and balances`
      }
    ]
  },
  {
    kode: `3.7.1`,
    uraian_subunsur: `Otorisasi atas Transaksi dan Kejadian yang Penting`,
    no: ``,
    uraian_parameter: `Terdapat proses untuk memastikan transaksi dan kejadian penting hanya dapat diotorisasi ketika memenuhi persyaratan dan dilakukan oleh pihak yang memiliki kewenangan`,
    kode_parameter: `3.7.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Proses otorisasi atas transaksi dan kejadian telah diperbaiki secara berkelanjutan dan secara optimal mampu mendukung pencapaian tujuan organisasi`,
        tooltip: `- Fungsi otorisasi telah mampu menyesuaikan dengan perubahan lingkungan strategis
- Fungsi otorisasi secara efektif mampu memitigasi risiko kolusi dan penyalahgunaan wewenang
- Fungsi otorisasi mampu membuat pelaksanaan program dan kegiatan lebih efektif dalam mencapai tujuan organisasi`
      },
      {
        grade: 'B',
        kriteria: `Kebijakan dan implementasi terkait otorisasi atas transaksi dan kejadian telah dievaluasi sehingga dapat diketahui efektivitasnya`,
        tooltip: `Kebijakan dan implementasi telah dievaluasi dengan ketentuan:
- Berkala .
- Terdokumentasi
- Dilakukan untuk menangani residual risk
- Hasil evaluasi telah ditindak lanjuti 
- Perbaikan telah menghasilkan kinerja yang lebih baik`
      },
      {
        grade: 'C',
        kriteria: `Otorisasi atas transaksi dan kejadian telah dilaksanakan sesuai kebijakan/prosedur yang ditetapkan`,
        tooltip: `- Otorisasi dilaksanakan sesuai ketentuan (struktur organisasi, peraturan/keputusan, SOP, petunjuk teknis/petunjuk pelaksanaan, dan/atau kebijakan lain)
- Fungsi otorisasi dilaksanakan baik pada kegiatan yang terkait dengan keuangan maupun kegiatan teknis operasional organisasi
- Fungsi otorisasi dilakukan sebagai upaya untuk menangani risiko yang disebabkan kelemahan alur/prosedur`
      },
      {
        grade: 'D',
        kriteria: `Kebijakan terkait otorisasi atas transaksi dan kejadian telah dikomunikasikan dan dipahami oleh pihak yang berkepentingan`,
        tooltip: `- Kebijakan telah dipahami oleh penanggungjawab pengelolaan keuangan/kegiatan
- Kebijakan telah dikomunikasikan kepada pimpinan (struktural) dan pegawai`
      },
      {
        grade: 'E',
        kriteria: `Terdapat kebijakan yang mengatur prosedur otorisasi atas transaksi dan kejadian`,
        tooltip: `Kebijakan telah mengatur:
- Kondisi dan/atau syarat spesifik suatu transaksi atau kejadian dapat diotorisasi
- Pihak yang berwenang melakukan otorisasi sesuai lingkup otoritasnya`
      }
    ]
  },
  {
    kode: `3.8.1`,
    uraian_subunsur: `Pencatatan yang Akurat dan Tepat Waktu atas Transaksi dan Kejadian`,
    no: ``,
    uraian_parameter: `Terdapat proses untuk memastikan transaksi telah diklasifikasikan dengan layak dan dikelompokkan dengan benar serta dicatat dengan segera sehingga relevan, bernilai, dan berguna bagi manajemen`,
    kode_parameter: `3.8.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Pencatatan atas transaksi dan kejadian telah diperbaiki secara berkelanjutan dan secara optimal mampu mendukung pencapaian tujuan organisasi`,
        tooltip: `- Proses pencatatan telah mampu menyesuaikan dengan perubahan lingkungan strategis
- Proses pencatatan secara efektif mampu memitigasi risiko manipulasi transaksi dan penyalahgunaan wewenang
- Proses pencatatan mampu menghasilkan informasi yang relevan, bernilai, dan berguna bagi manajemen dalam mengendalikan operasi dan mengambil keputusan`
      },
      {
        grade: 'B',
        kriteria: `Kebijakan dan implementasi terkait pencatatan atas transaksi dan kejadian telah dievaluasi sehingga dapat diketahui efektivitasnya`,
        tooltip: `Kebijakan dan implementasi telah dievaluasi dengan ketentuan:
- Berkala .
- Terdokumentasi
- Dilakukan untuk menangani residual risk
- Hasil evaluasi telah ditindak lanjuti 
- Perbaikan telah menghasilkan kinerja yang lebih baik`
      },
      {
        grade: 'C',
        kriteria: `Pencatatan atas transaksi dan kejadian telah dilaksanakan sesuai kebijakan/prosedur yang ditetapkan`,
        tooltip: `- Pencatatan dilaksanakan sesuai ketentuan (peraturan/keputusan, SOP, petunjuk teknis/petunjuk pelaksanaan, dan/atau kebijakan lain)
- Pencatatan dilaksanakan baik pada kegiatan yang terkait dengan keuangan (akuntansi keuangan dan BMN/BMD) maupun kegiatan teknis operasional organisasi
- Fungsi pencatatan dilakukan sebagai upaya untuk menangani risiko yang disebabkan kelemahan alur/prosedur`
      },
      {
        grade: 'D',
        kriteria: `Kebijakan terkait pencatatan atas transaksi dan kejadian telah dikomunikasikan dan dipahami oleh pihak yang berkepentingan`,
        tooltip: `- Kebijakan telah dipahami oleh penanggungjawab pengelolaan keuangan/kegiatan
- Kebijakan telah dikomunikasikan kepada pimpinan (struktural) dan pegawai`
      },
      {
        grade: 'E',
        kriteria: `Terdapat kebijakan yang mengatur prosedur pencatatan atas transaksi dan kejadian`,
        tooltip: `Kebijakan telah mengatur:
- Mekanisme pencatatan untuk seluruh siklus transaksi dan kejadian yang mencakup otorisasi, pelaksanaan, pemrosesan, dan klasifikasi akhir
- Klasifikasi yang jelas untuk seluruh transaksi dan kejadian
- Tenggat waktu pencatatan seluruh transaksi dan kejadian`
      }
    ]
  },
  {
    kode: `3.9.1`,
    uraian_subunsur: `Pembatasan Akses atas Sumber Daya dan Pencatatannya`,
    no: ``,
    uraian_parameter: `Terdapat pembatasan atas kesempatan dan hak untuk menggunakan, atau memperoleh sumber daya dan mengakses pencatatannya`,
    kode_parameter: `3.9.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Pembatasan akses terhadap sumber daya dan pencatatannya telah diperbaiki secara berkelanjutan dan secara optimal mampu mendukung pencapaian tujuan organisasi`,
        tooltip: `- Proses pembatasan akses telah mampu menyesuaikan dengan perubahan lingkungan strategis
- Proses pembatasan akses secara efektif mampu memitigasi risiko penggunaan secara tidak sah dan penyalahgunaan wewenang
- Menghasilkan zero significant fraudulent/dangerous intrusion`
      },
      {
        grade: 'B',
        kriteria: `Kebijakan dan implementasi terkait pembatasan akses terhadap sumber daya dan pencatatannya telah dievaluasi sehingga dapat diketahui efektivitasnya`,
        tooltip: `Kebijakan dan implementasi telah dievaluasi dengan ketentuan:
- Berkala
- Terdokumentasi
- Dilakukan untuk menangani residual risk
- Hasil evaluasi telah ditindak lanjuti 
- Perbaikan telah menghasilkan kinerja yang lebih baik`
      },
      {
        grade: 'C',
        kriteria: `Terhadap sumber daya dan pencatatannya telah dilakukan pembatasan akses sesuai dengan ketentuan`,
        tooltip: `- Pencatatan dilaksanakan sesuai ketentuan (peraturan/keputusan, SOP, petunjuk teknis/petunjuk pelaksanaan, dan/atau kebijakan lain)
- Pembatasan akses dilaksanakan baik pada sumber daya yang dimiliki organisasi maupun terhadap pencatatan atas sumber daya tersebut
- Pembatasan akses dilakukan dengan mempertimbangkan nilai aset, kemudahan dipindahkan, dan kemudahan ditukarkan
- Pembatasan akses direviu secara periodik
- Pembatasan akses dilakukan sebagai upaya untuk menangani risiko yang disebabkan kelemahan alur/prosedur`
      },
      {
        grade: 'D',
        kriteria: `Kebijakan terkait pembatasan akses terhadap sumber daya dan pencatatannya telah dikomunikasikan dan dipahami oleh pihak yang berkepentingan`,
        tooltip: `- Kebijakan telah dipahami oleh penanggungjawab pengelolaan keuangan dan BMN/BMD
- Kebijakan telah dikomunikasikan kepada pimpinan (struktural) dan pegawai`
      },
      {
        grade: 'E',
        kriteria: `Terdapat kebijakan yang mengatur prosedur pembatasan akses terhadap sumber daya yang dimiliki organisasi beserta pencatatannya`,
        tooltip: `Kebijakan telah mengatur:
- Mekanisme/desain pembatasan akses yang tidak diinginkan terhadap sumber daya
- Mekanisme/desain pembatasan akses yang tidak diinginkan terhadap pencatatan sumber daya`
      }
    ]
  },
  {
    kode: `3.10.1`,
    uraian_subunsur: `Akuntabilitas terhadap Sumber Daya dan Pencatatannya`,
    no: ``,
    uraian_parameter: `Terdapat pertanggungjawaban seseorang atau unit organisasi dalam mengelola sumber daya yang diberikan/dikuasakan kepadanya dalam rangka pencapaian tujuan organisasi`,
    kode_parameter: `3.10.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Pertanggungjawaban terhadap sumber daya dan pencatatannya telah diperbaiki secara berkelanjutan dan secara optimal mampu mendukung pencapaian tujuan organisasi`,
        tooltip: `- Proses pertanggungjawaban telah mampu menyesuaikan dengan perubahan lingkungan strategis
- Proses pertanggungjawaban secara efektif mampu memitigasi risiko penggunaan secara tidak sah dan penyalahgunaan wewenang
- Pertanggungjawaban terhadap sumber daya dan pencatatannya telah dibagi habis kepada pihak/pegawai sesuai dengan kewenangannya`
      },
      {
        grade: 'B',
        kriteria: `Kebijakan dan implementasi terkait akuntabilitas sumber daya dan pencatatannya telah dievaluasi sehingga dapat diketahui efektivitasnya`,
        tooltip: `Kebijakan dan implementasi telah dievaluasi dengan ketentuan:
- Berkala .
- Terdokumentasi
- Dilakukan untuk menangani residual risk
- Hasil evaluasi telah ditindak lanjuti 
- Perbaikan telah menghasilkan kinerja yang lebih baik`
      },
      {
        grade: 'C',
        kriteria: `Sumber daya dan pencatatannya telah dipertanggungjawabkan oleh pihak/pegawai yang ditetapkan sesuai kebijakan/prosedur yang ditetapkan`,
        tooltip: `- Pertanggungjawaban dilaksanakan sesuai ketentuan (peraturan/keputusan, SOP, petunjuk teknis/petunjuk pelaksanaan, dan/atau kebijakan lain)
- Dilakukan perbandingan berkala antara sumber daya dengan pencatatannya
- Pertanggungjawaban dilaksanakan baik pada kegiatan yang terkait dengan keuangan (akuntansi keuangan dan BMN/BMD) maupun kegiatan teknis operasional organisasi
- Pertanggungjawaban terhadap sumber daya dan pencatatannya direviu secara periodik
- Fungsi pertanggungjawaban dilakukan sebagai upaya untuk menangani risiko yang disebabkan kelemahan alur/prosedur`
      },
      {
        grade: 'D',
        kriteria: `Kebijakan terkait pertanggungjawaban sumber daya dan pencatatannya telah dikomunikasikan dan dipahami oleh pihak yang berkepentingan`,
        tooltip: `- Kebijakan telah dipahami oleh penanggungjawab pengelolaan keuangan dan BMN/BMD
- Kebijakan telah dikomunikasikan kepada pimpinan (struktural) dan pegawai`
      },
      {
        grade: 'E',
        kriteria: `Terdapat kebijakan yang mengatur prosedur pertanggungjawaban sumber daya dan pencatatannya`,
        tooltip: `Kebijakan telah mengatur:
- Mekanisme pertanggungjawaban penyimpanan, penggunaan, dan pencatatan sumber daya
- Penetapan pihak/pegawai yang harus bertanggungjawab
- Penetapan bentuk pertanggungjawaban yang harus dilaksanakan/dibuat`
      }
    ]
  },
  {
    kode: `3.11.1`,
    uraian_subunsur: `Dokumentasi yang Baik atas SPI serta Transaksi dan Kejadian Penting`,
    no: ``,
    uraian_parameter: `Terdapat pengelolaan, pemeliharaan, dan pendokumentasian secara berkala yang mencakup seluruh SPI serta transaksi dan kejadian penting yang dilaksanakan secara lengkap dan akurat untuk memfasilitasi penelusuran transaksi, kejadian, dan informasi terkait`,
    kode_parameter: `3.11.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Pendokumentasian atas SPI serta transaksi dan kejadian penting telah diperbaiki secara berkelanjutan dan secara optimal mampu mendukung pencapaian tujuan organisasi`,
        tooltip: `- Proses pendokumentasian telah mampu menyesuaikan dengan perubahan lingkungan strategis
- Proses pendokumentasian mampu menghasilkan dokumen yang relevan, bernilai, dan berguna bagi manajemen dan pihak lain secara real time`
      },
      {
        grade: 'B',
        kriteria: `Pendokumentasian atas SPI serta transaksi dan kejadian penting telah dievaluasi sehingga dapat diketahui efektivitasnya`,
        tooltip: `Kebijakan dan implementasi telah dievaluasi dengan ketentuan:
- Berkala .
- Terdokumentasi
- Dilakukan untuk menangani residual risk
- Hasil evaluasi telah ditindak lanjuti 
- Perbaikan telah menghasilkan kinerja yang lebih baik`
      },
      {
        grade: 'C',
        kriteria: `Pendokumentasian atas SPI serta transaksi dan kejadian penting telah dilaksanakan sesuai kebijakan/prosedur yang ditetapkan`,
        tooltip: `- Pendokumentasian dilaksanakan sesuai ketentuan (peraturan/keputusan, SOP, petunjuk teknis/petunjuk pelaksanaan, dan/atau kebijakan lain)
- Dokumentasi dan catatan dikelola, dipelihara, dan dimutakhirkan secara berkala
- Pendokumentasian dilaksanakan secara manual dan/atau elektronik sesuai karakteristik dokumen dan kebutuhan organisasi
- Pendokumentasian dilaksanakan baik pada kegiatan yang terkait dengan keuangan (akuntansi keuangan dan BMN/BMD) maupun kegiatan teknis operasional organisasi
- Fungsi pendokumentasian dilakukan sebagai upaya untuk menangani risiko yang disebabkan kelemahan alur/prosedur`
      },
      {
        grade: 'D',
        kriteria: `Kebijakan terkait prosedur pendokumentasian atas SPI serta transaksi dan kejadian penting telah dikomunikasikan dan dipahami oleh pihak yang berkepentingan`,
        tooltip: `- Kebijakan telah dipahami oleh penanggungjawab pengelolaan dokumen/arsip
- Kebijakan telah dikomunikasikan kepada pimpinan (struktural), pegawai, dan stakeholders`
      },
      {
        grade: 'E',
        kriteria: `Terdapat kebijakan yang mengatur prosedur pendokumentasian atas SPI serta transaksi dan kejadian penting`,
        tooltip: `Kebijakan telah mengatur:
- Pendokumentasian secara manual dan elektronik
- Mencakup seluruh pendokumentasian  pengendalian serta transaksi dan kejadian penting
- Untuk pendokumentasian secara elektronik mencakup sistem informasi otomatis, pengumpulan dan penanganan data, serta pengendalian umum dan pengendalian aplikasi`
      }
    ]
  },
  {
    kode: `4.1.1`,
    uraian_subunsur: `Informasi yang Relevan`,
    no: ``,
    uraian_parameter: `Tersedianya informasi yang relevan untuk kebutuhan internal dan eksternal`,
    kode_parameter: `4.1.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Informasi yang disajikan relevan dan memenuhi ekspektasi stakeholder`,
        tooltip: `- Informasi produk, standar, prosedur layanan/pelaksanaan tugas fungsi dan pengaduan telah memenuhi ekspektasi stakeholder;
- Informasi layanan internal (keuangan, kepegawaian, umum, dsb) telah memenuhi ekspektasi stakeholder;
- Informasi manajemen kinerja (rencana kinerja, capaian kinerja, dsb) telah memenuhi ekspektasi stakeholder.`
      },
      {
        grade: 'B',
        kriteria: `Klasifikasi informasi telah dievaluasi dan ditindaklanjuti sehingga dapat disajikan dengan tepat waktu, andal, dan relevan`,
        tooltip: `- Informasi produk, standar, prosedur layanan/pelaksanaan tugas fungsi dan pengaduan telah dievaluasi dan ditindaklanjuti sehingga:
a. Jelas klasifikasi informasi;
b. Jelas prosedur pengelolaan informasi;
c. Disajikan tepat waktu, andal, dan relevan.

- Informasi layanan internal (keuangan, kepegawaian, umum, dsb) telah dievaluasi dan ditindaklanjuti sehingga:
a. Jelas klasifikasi informasi;
b. Jelas prosedur pengelolaan informasi;
c. Disajikan tepat waktu, andal, dan relevan.

- Informasi manajemen kinerja (rencana kinerja, capaian kinerja, dsb) telah dievaluasi dan ditindaklanjuti sehingga:
a. Jelas klasifikasi informasi;
b. Jelas prosedur pengelolaan informasi;
c. Disajikan tepat waktu, andal, dan relevan.`
      },
      {
        grade: 'C',
        kriteria: `Informasi yang relevan untuk mendukung pengendalian intern tersedia secara lengkap dan mudah untuk diperoleh`,
        tooltip: `- Informasi produk, standar, prosedur layanan/pelaksanaan tugas fungsi dan pengaduan tersedia secara lengkap dan mudah diakses;
- Informasi layanan internal (keuangan, kepegawaian, umum, dsb) tersedia secara lengkap dan mudah diakses;
- Informasi manajemen kinerja (rencana kinerja, capaian kinerja, dsb) tersedia  secara lengkap dan mudah diakses.`
      },
      {
        grade: 'D',
        kriteria: `Informasi yang relevan untuk mendukung pengendalian intern tersedia secara lengkap namun tidak mudah diperoleh/akses terbatas`,
        tooltip: `- Informasi produk, standar, prosedur layanan/pelaksanaan tugas fungsi dan pengaduan tersedia secara lengkap, namun tidak mudah diakses;
- Informasi layanan internal (keuangan, kepegawaian, umum, dsb) tersedia secara lengkap, namun tidak mudah diakses.
- Informasi manajemen kinerja (rencana kinerja, capaian kinerja, dsb) tersedia secara lengkap, namun tidak mudah diakses`
      },
      {
        grade: 'E',
        kriteria: `Ketersediaan informasi yang relevan untuk mendukung pengendalian intern tidak lengkap`,
        tooltip: `- Informasi produk, standar, prosedur layanan/pelaksanaan tugas fungsi dan pengaduan belum tersedia secara lengkap;
- Informasi layanan internal (keuangan, kepegawaian, umum, dsb) belum tersedia secara lengkap;
- Informasi manajemen kinerja (rencana kinerja, capaian kinerja, dsb) belum tersedia secara lengkap;`
      }
    ]
  },
  {
    kode: `4.1.2`,
    uraian_subunsur: `Informasi yang Relevan`,
    no: ``,
    uraian_parameter: `Pimpinan K/L/D membangun sistem pengaduan`,
    kode_parameter: `4.1.2`,
    grades: [
      {
        grade: 'A',
        kriteria: `Sistem pengaduan berdampak pada perbaikan berkelanjutan`,
        tooltip: `Perbaikan berkelanjutan antara lain berdampak pada peningkatan kinerja, perbaikan pelayanan publik, dan kepuasan stakeholder.`
      },
      {
        grade: 'B',
        kriteria: `Sistem pengaduan telah dievaluasi`,
        tooltip: `Kebijakan dan implementasi telah dievaluasi dengan ketentuan:
- Berkala
- Terdokumentasi
- Dilakukan untuk menangani residual risk
- Hasil evaluasi telah ditindak lanjuti 
- Perbaikan telah menghasilkan kinerja yang lebih baik`
      },
      {
        grade: 'C',
        kriteria: `Sistem pengaduan telah diterapkan dan ditindaklanjuti sesuai Kebijakan/SOP`,
        tooltip: `Sudah Jelas`
      },
      {
        grade: 'D',
        kriteria: `Keberadaan sistem pengaduan telah disosialisasikan kepada masyarakat/stakeholder`,
        tooltip: `Sudah Jelas`
      },
      {
        grade: 'E',
        kriteria: `Telah terdapat kebijakan penerapan sistem pengaduan`,
        tooltip: `Sudah Jelas`
      }
    ]
  },
  {
    kode: `4.1.3`,
    uraian_subunsur: `Informasi yang Relevan`,
    no: ``,
    uraian_parameter: `Strategi dan kebijakan manajemen risiko telah dikomunikasikan.`,
    kode_parameter: `4.1.3`,
    grades: [
      {
        grade: 'A',
        kriteria: `Strategi dan kebijakan manajemen risiko telah dikomunikasikan pada seluruh pegawai pada tingkat operasional unit kerja, tingkat strategis unit kerja, dan tingkat strategis K/L/D`,
        tooltip: `>60%  pegawai sample pada tingkat operasional unit kerja, strategis unit kerja, dan strategis K/L/D menunjukan pengetahuan akan strategi dan kebijakan yang telah ditetapkan`
      },
      {
        grade: 'B',
        kriteria: `Strategi dan kebijakan manajemen risiko telah dikomunikasikan pada seluruh pegawai pada tingkat operasional unit kerja dan tingkat strategis unit kerja`,
        tooltip: `>60%  pegawai sample pada tingkat operasional unit kerja dan strategis unit kerja menunjukan pengetahuan akan strategi dan kebijakan yang telah ditetapkan`
      },
      {
        grade: 'C',
        kriteria: `Strategi dan kebijakan manajemen risiko telah dikomunikasikan pada seluruh pegawai pada tingkat operasional unit kerja dan sebagian pegawai pada tingkat strategis unit kerja`,
        tooltip: `>60%  pegawai sample pada tingkat operasional unit kerja dan <60% pada tingkat strategis unit kerja  menunjukan pengetahuan akan strategi dan kebijakan yang telah ditetapkan`
      },
      {
        grade: 'D',
        kriteria: `Strategi dan kebijakan manajemen risiko telah dikomunikasikan pada seluruh pegawai pada tingkat operasional unit kerja`,
        tooltip: `>60%  pegawai sample pada tingkat operasional unit kerja menunjukan pengetahuan akan strategi dan kebijakan yang telah ditetapkan`
      },
      {
        grade: 'E',
        kriteria: `Strategi dan kebijakan manajemen risiko telah dikomunikasikan pada sebagian pegawai pada tingkat operasional unit kerja`,
        tooltip: `<60%  pegawai sample pada tingkat operasional unit kerja menunjukan pengetahuan akan strategi dan kebijakan yang telah ditetapkan`
      }
    ]
  },
  {
    kode: `4.1.4`,
    uraian_subunsur: ``,
    no: ``,
    uraian_parameter: `Register risiko dan rencana tindak pengendalian telah dikomunikasikan ke pihak terkait`,
    kode_parameter: `4.1.4`,
    grades: [
      {
        grade: 'A',
        kriteria: `Register risiko dan rencana tindak pengendalian tingkat operasional Unit Kerja/OPD, strategis Unit Kerja/OPD dan Strategis K/L/D telah dikomunikasikan kepada seluruh pihak terkait dan dijadikan bahan dalam pengambilan keputusan  serta menjadi bahan pembelajaran dan inovasi`,
        tooltip: `Komunikasi Register risiko dan rencana tindak pengendalian tingkat operasional Unit Kerja/OPD, dan strategis Unit Kerja/OPD telah dilakukan kepada semua pihak yang telah diidentifikasi dalam rencana komunikasi sebagaimana tertuang dalam dokumen RTP yang telah disusun sebelumnya dan dijadikan bahan pembuatan keputusan oleh pihak-pihak tersebut serta menjadi bahan pembelajaran dan inovasi bagi K/L/D`
      },
      {
        grade: 'B',
        kriteria: `Register risiko dan rencana tindak pengendalian tingkat operasional Unit Kerja/OPD, strategis Unit Kerja/OPD dan Strategis K/L/D telah dikomunikasikan kepada seluruh pihak terkait dan dijadikan bahan dalam pengambilan keputusan`,
        tooltip: `Komunikasi Register risiko dan rencana tindak pengendalian tingkat operasional Unit Kerja/OPD, dan strategis Unit Kerja/OPD telah dilakukan kepada semua pihak yang telah diidentifikasi dalam rencana komunikasi sebagaimana tertuang dalam dokumen RTP yang telah disusun sebelumnya dan dijadikan bahan pembuatan keputusan oleh pihak-pihak tersebut.`
      },
      {
        grade: 'C',
        kriteria: `Register risiko dan rencana tindak pengendalian operasional Unit Kerja/OPD, strategis Unit Kerja/OPD dan Strategis K/L/D telah dikomunikasikan kepada seluruh pihak terkait`,
        tooltip: `Komunikasi Register risiko dan rencana tindak pengendalian tingkat operasional Unit Kerja/OPD, strategis Unit Kerja/OPD dan strategis K/L/D telah dilakukan kepada semua pihak yang telah diidentifikasi dalam rencana komunikasi sebagaimana tertuang dalam dokumen RTP yang telah disusun sebelumnya.`
      },
      {
        grade: 'D',
        kriteria: `Register risiko dan rencana tindak pengendalian tingkat operasional unit kerja/OPD dan strategis unit kerja/OPD telah dikomunikasikan kepada seluruh pihak terkait`,
        tooltip: `Komunikasi Register risiko dan rencana tindak pengendalian tingkat operasional Unit Kerja/OPD dan strategis Unit Kerja/OPD telah dilakukan kepada semua pihak yang telah diidentifikasi dalam rencana komunikasi sebagaimana tertuang dalam dokumen RTP yang telah disusun sebelumnya.`
      },
      {
        grade: 'E',
        kriteria: `Register risiko dan rencana tindak pengendalian tingkat operasional unit kerja telah dikomunikasikan kepada sebagian pihak terkait`,
        tooltip: `Komunikasi Register risiko dan rencana tindak pengendalian tingkat operasional Unit Kerja/OPD tidak dilakukan kepada semua pihak yang telah diidentifikasi dalam rencana komunikasi sebagaimana tertuang dalam dokumen RTP yang telah disusun sebelumnya.`
      }
    ]
  },
  {
    kode: `4.2.1`,
    uraian_subunsur: `Komunikasi yang Efektif`,
    no: ``,
    uraian_parameter: `Terlaksananya komunikasi yang efektif dengan internal dan eksternal`,
    kode_parameter: `4.2.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Perbaikan berkelanjutan atas metodologi komunikasi yang efektif`,
        tooltip: `Perbaikan berkelanjutan atas komunikasi yang efektif menghasilkan:
- Upaya promosi/sosialisasi tentang produk/layanan/ pelaksanaan tugas fungsi yang telah berhasil meningkatkan kepercayaan publik/stakholder;
- Upaya komunikasi dengan publik/stakeholder yang  telah berhasil memperbaiki citra instansi.`
      },
      {
        grade: 'B',
        kriteria: `Komunikasi yang efektif telah dilakukan kepada internal dan eksternal secara terstruktur dan berkala dan telah dievaluasi`,
        tooltip: `- Telah dilakukan evaluasi terhadap upaya promosi/sosialisasi tentang produk/layanan/ pelaksanaan tugas fungsi yang menghasilkan perbaikan.
Contohnya: melalui evaluasi kepuasan layanan, survei citra instansi di mata stakeholder
- Telah dilakukan evaluasi terhadap upaya komunikasi dengan publik/stakeholder untuk mengatasi isu negatif, yang menghasilkan perbaikan`
      },
      {
        grade: 'C',
        kriteria: `Komunikasi yang efektif telah dilakukan kepada internal dan eksternal secara terstruktur dan berkala`,
        tooltip: `- Upaya promosi/sosialisasi tentang produk/layanan/ pelaksanaan tugas fungsi dalam rangka meningkatkan kepercayaan publik/stakholder telah dilakukan secara terstruktur dan berkala;
- Upaya komunikasi dengan publik/stakeholder untuk mengatasi isu negatif telah dilakukan secara terstruktur dan berkala;
- Seluruh pegawai telah memahami visi, misi, tujuan, sasaran strategis, fokus dan prioritas secara terstruktur dan berkala;
- Seluruh pegawai telah memahami risiko dan kegiatan pengendalian.`
      },
      {
        grade: 'D',
        kriteria: `Komunikasi yang efektif telah dilakukan kepada internal dan eksternal namun belum terstruktur dan berkala`,
        tooltip: `- Upaya promosi/sosialisasi tentang produk/layanan/ pelaksanaan tugas fungsi dalam rangka meningkatkan kepercayaan publik/stakholder telah dilakukan;
- Upaya komunikasi dengan publik/stakeholder untuk mengatasi isu negatif telah dilakukan;
- Telah dilakukan pengkomunikasian pengarahan tentang visi, misi, tujuan, sasaran strategis, fokus dan prioritas namun belum dilakukan secara terstruktur dan berkala;
- Telah dilakukan komunikasi terkait risiko dan kegiatan pengendalian namun belum dilakukan secara terstruktur dan berkala.`
      },
      {
        grade: 'E',
        kriteria: `Komunikasi yang efektif dengan eksternal belum dilakukan`,
        tooltip: `- Upaya promosi/sosialisasi tentang produk/layanan/ pelaksanaan tugas fungsi dalam rangka meningkatkan kepercayaan publik/stakholder belum dilakukan;
- Upaya komunikasi dengan publik/stakeholder untuk mengatasi isu negatif belum dilakukan;
- Telah dilakukan pengkomunikasian pengarahan tentang visi, misi, tujuan, sasaran strategis, fokus dan prioritas namun belum terstruktur dan berkala;
- Telah dilakukan komunikasi terkait risiko dan kegiatan pengendalian namun belum terstruktur dan berkala.`
      }
    ]
  },
  {
    kode: `5.1.1`,
    uraian_subunsur: `Pemantauan Berkelanjutan`,
    no: ``,
    uraian_parameter: `Pimpinan K/L/D/penanggungjawab program dan kegiatan/penanggungjawab operasional mengevaluasi secara berkala pengendalian intern yang telah dilakukan dalam rangka mencapai tujuan organisasi.`,
    kode_parameter: `5.1.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Perbaikan berkelanjutan atas pemantauan pengendalian intern dilaksanakan dan berdampak pada kualitas pengendalian intern`,
        tooltip: `a. Pemantauan atas pelaksanaan pengendalian telah efektif mengurangi dampak dan frekuensi keterjadian risiko;
b. Terdapat sistem informasi terintegrasi untuk memantau pengendalian untuk seluruh proses bisnis secara realtime.
c. Pemantauan kinerja digunakan sebagai dasar dalam reward and punishment;
d. Didukung oleh sistem informasi pemantauan kinerja yang terintegrasi.`
      },
      {
        grade: 'B',
        kriteria: `Seluruh hasil pemantauan berkelanjutan dikelola dan ditindaklanjuti`,
        tooltip: `Seluruh hasil pemantauan dikelola dan ditindaklanjuti.
Pemantauan dilaksanakan:
a. Secara berkala; 
b.  Pemantauan menilai pelaksanaan pengendalian (membandingkan rencana tindak pengendalian dengan pelaksanaan dan memberikan rekomendasi perbaikan);
c. Hasil pemantauan dikomunikasikan kepada seluruh anggota organisasi.

Pemantauan atas kinerja K/L/D, unit level I, unit level II, unit level III dan pemantauan kinerja individu membahas:        
a. Capaian pelaksanaan rincana aksi;
b. Hambatan;
c. Rencana ke depan.`
      },
      {
        grade: 'C',
        kriteria: `Pemantauan pelaksanaan pengendalian telah dilaksanakan pada seluruh aktivitas pengendalian dan terkait pemantauan kinerja telah dilaksanakan pada level program, kegiatan, unit kerja level dibawahnya sampai dengan pemantauan kinerja individu, namun hasil pemantauan belum dikelola (tidak lanjut tidak termonitor)`,
        tooltip: `Pemantauan dilakukan pada seluruh aktivitas pengendalian.
Pemantauan dilaksanakan:
a. Secara berkala; 
b.  Pemantauan menilai pelaksanaan pengendalian (membandingkan rencana tindak pengendalian dengan pelaksanaan dan memberikan rekomendasi perbaikan);
c. Hasil pemantauan dikomunikasikan kepada seluruh anggota organisasi.

Pemantauan atas kinerja K/L/D, unit level I, unit level II, unit level III dan pemantauan kinerja individu membahas:        
a. Capaian pelaksanaan rincana aksi;
b. Hambatan;
c. Rencana ke depan.`
      },
      {
        grade: 'D',
        kriteria: `Pemantauan pelaksanaan pengendalian telah dilaksanakan pada sebagian aktivitas pengendalian dan terkait pemantauan kinerja telah dilaksanakan pada level program dan kegiatan`,
        tooltip: `Pemantauan dilakukan pada sebagian aktivitas pengendalian.
Pemantauan dilaksanakan:
a. Secara berkala; 
b.  Pemantauan menilai pelaksanaan pengendalian (membandingkan rencana tindak pengendalian dengan pelaksanaan dan memberikan rekomendasi perbaikan);
c. Hasil pemantauan dikomunikasikan kepada seluruh anggota organisasi.

Pemantauan atas kinerja K/L/D, unit level I, unit level II, unit level III dan pemantauan kinerja individu membahas:        
a. Capaian pelaksanaan rincana aksi;
b. Hambatan;
c. Rencana ke depan.`
      },
      {
        grade: 'E',
        kriteria: `Pemantauan pelaksanaan pengendalian telah dilaksanakan`,
        tooltip: `- Pemantauan pelaksanaan pengendalian telah dilaksanakan;
- Pemantauan pelaksanaan kinerja telah dilaksanakan.`
      }
    ]
  },
  {
    kode: `5.1.2`,
    uraian_subunsur: `Pemantauan Berkelanjutan`,
    no: ``,
    uraian_parameter: `Proses manajemen risiko telah direviu`,
    kode_parameter: `5.1.2`,
    grades: [
      {
        grade: 'A',
        kriteria: `Sudah dilakukan reviu atas seluruh risiko operasional unit kerja, strategis unit kerja, dan strategis K/L/D dan hasil reviu dijadikan bahan perbaikan organisasi`,
        tooltip: `Kebijakan, framework, metode, tahapan, proses, dan praktik yang dijalankan terkait dengan proses manajemen risiko telah direviu oleh pihak internal dari Instansi Pemerintah (oleh APIP maupun komite manajemen risiko) untuk semua risiko operasional unit kerja, strategis unit kerja, strategis K/L/D.  Hasil reviu telah seluruhnya ditindaklanjuti dan sudah ada implementasi perbaikan atas hasil reviu tersebut.`
      },
      {
        grade: 'B',
        kriteria: `Sudah dilakukan reviu atas seluruh risiko operasional unit kerja, strategis unit kerja, dan strategis K/L/D`,
        tooltip: `Kebijakan, framework, metode, tahapan, proses, dan praktik yang dijalankan terkait dengan proses manajemen risiko telah direviu oleh pihak internal dari Instansi Pemerintah (oleh APIP maupun komite manajemen risiko) untuk semua risiko operasional unit kerja, strategis unit kerja, strategis K/L/D`
      },
      {
        grade: 'C',
        kriteria: `Sudah dilakukan reviu atas seluruh risiko operasional unit kerja dan strategis unit kerja`,
        tooltip: `Kebijakan, framework, metode, tahapan, proses, dan praktik yang dijalankan terkait dengan proses manajemen risiko telah direviu oleh pihak internal dari Instansi Pemerintah (oleh APIP maupun komite manajemen risiko) tetapi hanya atas risiko operasional unit kerja dan strategis unit kerja`
      },
      {
        grade: 'D',
        kriteria: `Sudah dilakukan reviu atas seluruh risiko operasional unit kerja`,
        tooltip: `Kebijakan, framework, metode, tahapan, proses, dan praktik yang dijalankan terkait dengan proses manajemen risiko telah direviu oleh pihak internal dari Instansi Pemerintah (oleh APIP maupun komite manajemen risiko) tetapi hanya atas risiko operasional unit kerja`
      },
      {
        grade: 'E',
        kriteria: `Sudah dilakukan reviu atas sebagian risiko operasional unit kerja`,
        tooltip: `Kebijakan, framework, metode, tahapan, proses, dan praktik yang dijalankan terkait dengan proses manajemen risiko belum direviu oleh pihak internal dari Instansi Pemerintah (oleh APIP maupun komite manajemen risiko) dan hanya atas sebagian risiko operasional unit kerja`
      }
    ]
  },
  {
    kode: `5.1.3`,
    uraian_subunsur: `Pemantauan Berkelanjutan`,
    no: ``,
    uraian_parameter: `Pemantauan/monitoring terhadap risiko telah dilakukan`,
    kode_parameter: `5.1.3`,
    grades: [
      {
        grade: 'A',
        kriteria: `Monitoring terhadap risiko dan tindak pengendalian dilakukan terhadap risiko operasional unit kerja, strategis unit kerja, dan strategis K/L/D secara memadai dan menjadi bahan pembelajaran bagi unit kerja`,
        tooltip: `Memadai berarti:
1.Telah ada langkah Monitoring sesuai kebijakan;
2. Monitoring dilakukan sesuai dengan jadwal yang ditetapkan sesuai kebijakan;
3. Monitoring dilakukan oleh unit kepatuhan dan dilaksanakan minimal satu kali per semester atau sesuai dengan kebutuhan;
4. Proses dan hasil Monitoring telah didokumentasikan;
5. Monitoring sepenuhnya dilakukan terhadap:
a. implementasi pengendalian;
b. kejadian risiko  (termasuk mekanisme dan implementasi pelaporan segera);
c. Memantau pelaksanaan tiap tahapan pengelolaan risiko.
6. Hasil monitoring menunjukkan kondisi yang baik;
7. Hasil Monitoring seluruhnya telah ditindaklanjuti.
9. Terdapat implementasi perbaikan atas hasil monitoring`
      },
      {
        grade: 'B',
        kriteria: `Monitoring terhadap risiko dan tindak pengendalian dilakukan terhadap risiko operasional unit kerja/OPD, strategis unit kerja/OPD dan strategis K/L/D secara memadai`,
        tooltip: `Memadai berarti:
1.Telah ada langkah Monitoring sesuai kebijakan;
2. Monitoring dilakukan sesuai dengan jadwal yang ditetapkan sesuai kebijakan;
3. Monitoring dilakukan oleh unit kepatuhan dan dilaksanakan minimal satu kali per semester atau sesuai dengan kebutuhan;
4. Proses dan hasil Monitoring telah didokumentasikan;
5. Monitoring sepenuhnya dilakukan terhadap:
a. implementasi pengendalian;
b. kejadian risiko  (termasuk mekanisme dan implementasi pelaporan segera);
c. Memantau pelaksanaan tiap tahapan pengelolaan risiko.
6. Hasil monitoring menunjukkan kondisi yang baik;
7. Hasil Monitoring sebagian telah diditindaklanjuti.`
      },
      {
        grade: 'C',
        kriteria: `Monitoring terhadap risiko dan tindak pengendalian dilakukan terhadap risiko operasional unit kerja/OPD dan strategis unit kerja/OPD secara memadai`,
        tooltip: `Memadai berarti:
1.Telah ada langkah Monitoring sesuai kebijakan;
2. Monitoring dilakukan sesuai dengan jadwal yang ditetapkan sesuai kebijakan;
3. Monitoring dilakukan oleh unit kepatuhan dan dilaksanakan minimal satu kali per semester atau sesuai dengan kebutuhan;
4. Proses dan hasil Monitoring telah didokumentasikan;
5. Monitoring sepenuhnya dilakukan terhadap:
a. implementasi pengendalian;
b. kejadian risiko  (termasuk mekanisme dan implementasi pelaporan segera);
c. Memantau pelaksanaan tiap tahapan pengelolaan risiko.
6. Hasil monitoring menunjukkan kondisi yang baik;
7. Hasil Monitoring sebagian telah diditindaklanjuti.`
      },
      {
        grade: 'D',
        kriteria: `Monitoring terhadap risiko dan tindak pengendalian dilakukan terhadap risiko operasional unit kerja/OPD secara memadai`,
        tooltip: `Memadai berarti:
1.Telah ada langkah Monitoring sesuai kebijakan;
2. Monitoring dilakukan sesuai dengan jadwal yang ditetapkan sesuai kebijakan;
3. Monitoring dilakukan oleh unit kepatuhan dan dilaksanakan minimal satu kali per semester atau sesuai dengan kebutuhan;
4. Proses dan hasil Monitoring telah didokumentasikan;
5. Monitoring sepenuhnya dilakukan terhadap:
a. implementasi pengendalian;
b. kejadian risiko  (termasuk mekanisme dan implementasi pelaporan segera);
c. Memantau pelaksanaan tiap tahapan pengelolaan risiko.
6. Hasil monitoring menunjukkan kondisi yang baik;
7. Hasil Monitoring sebagian telah diditindaklanjuti.`
      },
      {
        grade: 'E',
        kriteria: `Monitoring terhadap risiko dan tindak pengendalian dilakukan terhadap risiko operasional unit kerja/OPD namun belum memadai`,
        tooltip: `Belum memadai berarti:
1. Monitoring dilakukan tidak sesuai jadwal yang ditetapkan;
2. Monitoring dilakukan oleh atasan langsung unit UPR dan dilaksanakan minimal satu kali dalam satu tahun;
3. Proses dan hasil Monitoring tidak didokumentasikan;
4. Monitoring belum sepenuhnya dilakukan terhadap:
a. implementasi pengendalian;
b. kejadian risiko (termasuk mekanisme dan implementasi pelaporan segera);
c. Memantau pelaksanaan tiap tahapan pengelolaan risiko.
5. Hasil monitoring menunjukkan kondisi yang belum baik;
6. Hasil Monitoring tidak ditindaklanjuti.`
      }
    ]
  },
  {
    kode: `5.2.1`,
    uraian_subunsur: `Evaluasi Terpisah`,
    no: ``,
    uraian_parameter: `Evaluasi terpisah dilakukan oleh pegawai dengan keahlian tertentu yang disyaratkan dan dapat melibatkan APIP atau auditor eksternal untuk menilai kinerja sistem pengendalian intern, mengidentifikasi kelemahan pengendalian, menentukan penyebab dari kegagalan aktivitas pengendalian, serta pengaruhnya terhadap pencapaian tujuan instansi.`,
    kode_parameter: `5.2.1`,
    grades: [
      {
        grade: 'A',
        kriteria: `Perbaikan berkelanjutan atas pelaksanaan evaluasi terpisah berdampak pada peningkatan kualitas pengendalian intern dan pencapaian tujuan organisasi`,
        tooltip: `- Hasil tindak lanjut mampu mengurangi dampak dan frekuensi risiko.
- Hasil tindak lanjut mampu mengakselerasi pencapaian indikator program dan kegiatan.`
      },
      {
        grade: 'B',
        kriteria: `Seluruh hasil evaluasi terpisah dikelola dan ditindaklanjuti`,
        tooltip: `Seluruh hasil evaluasi terpisah dikelola dan ditindaklanjuti. Pengelolaan hasil antara lain dilakukan dengan dokumentasi yang baik dan monitoring atas penyelesaian tindak lanjut hasil evaluasi terpisah.`
      },
      {
        grade: 'C',
        kriteria: `Evaluasi terpisah telah dilaksanakan pada seluruh aktivitas pengendalian dan seluruh program dan kegiatan serta dilaksanakan oleh pihak yang kompeten dan dengan metodologi yang tepat, namun hasil evaluasi terpisah belum ditindaklanjuti seluruhnya`,
        tooltip: `- Evaluasi dilakukan pada seluruh aktivitas pengendalian.
Evaluasi dianggap dilaksanakan jika:
a. Dilaksanakan oleh pihak yang kompeten dan independen;
b. Evaluasi menilai kecukupan pelaksanaan pengendalian (maturitas dan efektifitas pengendalian);
c. Memberikan rekomendasi yang relevan;
d. Rekomendasi perbaikan telah ditindaklanjuti sebagian.

- Evaluasi dilakukan pada seluruh program kegiatan.
Evaluasi dianggap dilaksanakan jika:
a. Dilaksanakan oleh pihak yang kompeten dan independen;
b. Evaluasi menilai keselarasan prgram dan program dengan sasaran;
c. Memberikan rekomendasi yang relevan;
d. Rekomendasi perbaikan telah ditindaklanjuti sebagian.`
      },
      {
        grade: 'D',
        kriteria: `Evaluasi terpisah telah dilaksanakan pada sebagian aktivitas pengendalian dan seluruh program dan kegiatan serta dilaksanakan oleh pihak yang kompeten dengan metodologi yang tepat`,
        tooltip: `- Evaluasi dilakukan pada sebagian aktivitas pengendalian.
Evaluasi dianggap dilaksanakan jika:
a. Dilaksanakan oleh pihak yang kompeten dan independen;
b. Evaluasi menilai kecukupan pelaksanaan pengendalian (maturitas dan efektifitas pengendalian);
c. Memberikan rekomendasi yang relevan.

- Evaluasi dilakukan pada sebagian program kegiatan.
a. Dilaksanakan oleh pihak yang kompeten dan independen;
b. Evaluasi menilai keselarasan prgram dan program dengan sasaran;
c. Memberikan rekomendasi yang relevan.`
      },
      {
        grade: 'E',
        kriteria: `Evaluasi terpisah atas pengendalian intern dan pelaksanaan program/kegiatan telah dilaksanakan`,
        tooltip: `- Evaluasi atas pelaksanaan pengendalian intern telah dilaksanakan; 
- Evaluasi atas pelaksanaan program/kegiatan telah dilaksanakan.`
      }
    ]
  },
  {
    kode: `5.2.2`,
    uraian_subunsur: `Evaluasi Terpisah`,
    no: ``,
    uraian_parameter: `Terdapat reviu independen terhadap proses manajemen risiko`,
    kode_parameter: `5.2.2`,
    grades: [
      {
        grade: 'A',
        kriteria: `Reviu terhadap proses tindak pengendalian risiko tingkat operasional unit kerja/OPD, strategis unit kerja/OPD, dan strategis K/L/D sangat memadai`,
        tooltip: `Sangat memadai berarti:
1.Telah ada pedoman reviu yang terstandar yang merunjuk pada best practice;
2. Reviu dilakukan sesuai dengan jadwal yang ditetapkan dan sesuai dengan pedoman;
3. Reviu dilakukan oleh APIP minimal satu kali per tahun;
4. Proses dan hasil reviu telah didokumentasikan serta dapat disimpulkan baik;
5. Reviu dilakukan untuk mereviu rencana dan implementasi pengendalian serta kejadian risiko serta respon yang dilakukan
6. Hasil reviu menunjukkan kondisi yang seluruhnya telah sesuai dengan standar dan kebijakan serta dapat disimpulkan baik;
7. Hasil reviu seluruhnya telah diditindaklanjut;
9. Terdapat implementasi perbaikan atas hasil reviu.`
      },
      {
        grade: 'B',
        kriteria: `Reviu terhadap proses tindak pengendalian untuk risiko tingkat operasional unit kerja/OPD, strategis unit kerja/OPD, dan strategis K/L/D memadai`,
        tooltip: `Memadai berarti:
1.Telah ada pedoman reviu yang terstandar yang merujuk pada best practice;
2. Reviu dilakukan sesuai dengan jadwal yang ditetapkan dan sesuai dengan pedoman;
3. Reviu dilakukan oleh APIP minimal satu kali per tahun;
4. Proses dan hasil reviu telah didokumentasikan;
5. Reviu dilakukan untuk mereviu rencana dan implementasi pengendalian serta kejadian risiko serta respon yang dilakukan
6. Hasil reviu menunjukkan sebagian besar kondisi yang ada telah sesuai dengan standar dan kebijakan serta dapat disimpulkan baik;
7. Hasil reviu sebagian besar telah diditindaklanjuti.`
      },
      {
        grade: 'C',
        kriteria: `Reviu terhadap proses tindak pengendalian untuk risiko tingkat operasional unit kerja/OPD dan strategis unit kerja/OPD memadai`,
        tooltip: `Memadai berarti:
1.Telah ada pedoman reviu yang terstandar;
2. Reviu dilakukan sesuai dengan jadwal yang ditetapkan dan pedoman yang terstandar;
3. Reviu dilakukan oleh APIP dan dilaksanakan minimal satu kali per tahun;
4. Proses dan hasil reviu telah didokumentasikan;
5. Reviu dilakukan untuk mereviu rencana dan implementasi pengendalian serta kejadian risiko serta respon yang dilakukan
6. Hasil reviu menunjukkan sebagian besar kondisi yang ada telah sesuai dengan standar dan kebijakan serta dapat disimpulkan baik;
7. Hasil reviu sebagian besar telah diditindaklanjuti.`
      },
      {
        grade: 'D',
        kriteria: `Reviu terhadap proses tindak pengendalian untuk risiko tingkat operasional unit kerja/OPD cukup memadai`,
        tooltip: `Cukup memadai berarti:
1. Reviu dilakukan tidak sesuai jadwal yang ditetapkan;
2. Belum ada pedoman reviu yang terstandar
3. Reviu dilakukan oleh APIP dan dilaksanakan minimal satu kali per tahun;
4. Proses dan hasil reviu telah didokumentasikan;
5. Reviu dilakukan untuk mereviu rencana dan implementasi pengendalian serta kejadian risiko serta respon yang dilakukan
6. Hasil reviu menunjukkan sebagian kondisi yang ada sesuai dengan standar dan kebijakan;
7. Hasil reviu sebagian kecil ditindaklanjuti;`
      },
      {
        grade: 'E',
        kriteria: `Reviu terhadap proses tindak pengendalian untuk risiko tingkat operasional unit kerja/OPD belum memadai`,
        tooltip: `Belum memadai berarti:
1. Reviu dilakukan tidak sesuai jadwal yang ditetapkan;
2. Belum ada pedoman reviu yang terstandar
3. Reviu dilakukan oleh APIP dan dilaksanakan minimal satu kali per tahun;
4. Proses dan hasil reviu telah didokumentasikan;
5. Reviu dilakukan untuk mereviu rencana dan implementasi pengendalian serta kejadian risiko serta respon yang dilakukan
6. Hasil reviu menunjukkan sebagian kecil kondisi yang ada sesuai dengan standar dan kebijakan;
7. Hasil reviu belum ditindaklanjuti;`
      }
    ]
  }
];

    const $ = (sel) => document.querySelector(sel);

    const App = {
      db:null, auth:null,
      userId:null,
      currentSatker: localStorage.getItem('spip.currentSatker') || SATKER_LIST[0],
      assessmentData:{}, unsubscribe:null, bootstrapModal:null,
      currentGrade:'A',
      sestamaCache:new Map(),

      init() {
        try {
          const app = initializeApp(firebaseConfig);
          this.db = getFirestore(app);
          enableIndexedDbPersistence(this.db).catch(()=>{});
          this.auth = getAuth(app);
          this.handleAuthentication();
        } catch (e) {
          console.error('Firebase init failed:', e);
          $('#loader').innerText = 'Kunci Firebase salah. Mohon periksa kembali.';
          return;
        }
        this.populateSatkerSelect();
        this.setupEventListeners();
        this.bootstrapModal = new bootstrap.Modal($('#assessment-modal'));

        // inisialisasi modal preview global + kosongkan iframe saat ditutup
        previewModal = new bootstrap.Modal(document.getElementById('preview-modal'));
        document.getElementById('preview-modal').addEventListener('hidden.bs.modal', ()=>{
          document.getElementById('preview-iframe').src = '';
        });
      },

      handleAuthentication() {
        onAuthStateChanged(this.auth, async (user)=>{
          if (user) {
            this.userId = user.uid;
            this.loadInitialData();
          } else {
            try { await signInAnonymously(this.auth); }
            catch(e){ console.error('Auth failed:', e); $('#loader').innerText='Gagal otentikasi. Aktifkan login anonim.'; }
          }
        });
      },

      loadInitialData(){
        $('#loader').style.display='none';
        $('#main-content').classList.remove('d-none');
        this.renderTable();
        this.listenForDataChanges();
        this.updateProgress();
      },

      populateSatkerSelect(){
        const select=$('#satker-select'); select.innerHTML='';
        SATKER_LIST.forEach(s=>{
          const opt=new Option(s,s); if(s===this.currentSatker) opt.selected=true; select.add(opt);
        });
      },

      gradeBadgeClass(g){
        return g==='A'?'success':g==='B'?'primary':g==='C'?'info':g==='D'?'warning':g==='E'?'danger':'secondary';
      },

      renderTable(){
        const tbody=$('#assessment-table-body'); tbody.innerHTML='';
        const frag=document.createDocumentFragment();
        ASSESSMENT_STRUCTURE.forEach(p=>{
          const data = this.assessmentData[p.kode_parameter];
          const done = Boolean(data && data.simpulan);
          const simpulan = done ? data.simpulan : null;
          const tr=document.createElement('tr');
          tr.innerHTML=`
            <td class="px-3">\${p.kode_parameter}</td>
            <td class="px-3">\${p.uraian_parameter}</td>
            <td class="px-3 text-center"><span class="badge rounded-pill \${done?'text-bg-success':'text-bg-warning'}">\${done?'Selesai':'Belum Diisi'}</span></td>
            <td class="px-3 text-center">
              <button type="button" class="btn btn-outline-secondary btn-sm open-main-btn" data-param-code="\${p.kode_parameter}">
                <i class="bi bi-list-check me-1"></i> Main
              </button>
            </td>
            <td class="px-3 text-center">
              <button type="button" class="btn btn-primary btn-sm open-modal-btn" data-action="open-modal" data-param-code="\${p.kode_parameter}">
                \${done?'Edit':'Isi Penilaian'}
              </button>
            </td>
            <td class="px-3 text-center">
              <button type="button" class="btn btn-outline-primary btn-sm open-toc-btn" data-param-code="\${p.kode_parameter}">
                <i class="bi bi-shield-check me-1"></i> TOC
              </button>
            </td>
            <td class="px-3 text-center">\${simpulan?\`<span class="badge" data-grade="\${simpulan}">\${simpulan}</span>\`:'<span class="text-muted">-</span>'}</td>`;
          frag.appendChild(tr);
        });
        tbody.appendChild(frag);

        // wire MAIN button
        tbody.querySelectorAll('.open-main-btn').forEach(btn=>{
          btn.addEventListener('click', ()=>{
            const kode = btn.getAttribute('data-param-code');
            const param = ASSESSMENT_STRUCTURE.find(p => p.kode_parameter===kode);
            const html = `
              <html><body style="font-family:Inter,system-ui;padding:16px">
                <h3 style="margin:0 0 8px">Uraian Parameter</h3>
                <div style="margin:0 0 12px">\${param?.uraian_parameter||''}</div>
                <h3 style="margin:0 0 8px">Kriteria per Grade</h3>
                \${(param?.grades||[]).map(g=>\`<div class="mb-2"><strong>Grade \${g.grade}</strong><div class="small text-muted">\${g.kriteria||''}</div></div>\`).join('')||'<div class="text-muted">Tidak ada kriteria.</div>'}
              </body></html>`;
            $('#preview-modal-title').textContent = \`Main • \${kode}\`;
            $('#preview-iframe').srcdoc = html;
            if(!previewModal) previewModal = new bootstrap.Modal($('#preview-modal'));
            previewModal.show();
          });
        });

        // wire TOC button
        tbody.querySelectorAll('.open-toc-btn').forEach(btn=>{
          btn.addEventListener('click', ()=>{
            const kode = btn.getAttribute('data-param-code');
            const unit = $('#satker-select')?.value || 'Sestama';
            window.openTocModal(kode, unit);
          });
        });
      },

      listenForDataChanges(){
        if(this.unsubscribe) this.unsubscribe();
        const docRef=doc(this.db,'assessments',this.currentSatker);
        this.unsubscribe = onSnapshot(docRef,(snap)=>{
          if(snap.exists()){
            const raw=snap.data();
            const next = raw?.parameters || {};
            if (!shallowEqual(this.assessmentData, next)) {
              this.assessmentData = next;
              this.renderTable(); 
              this.updateProgress();
            }
            this.updateLastSaved(raw?.updated_at || null);
          }else{
            if (!shallowEqual(this.assessmentData, {})) {
              this.assessmentData={}; 
              this.renderTable(); 
              this.updateProgress();
            }
            this.updateLastSaved(null);
          }
        },(err)=>{
          console.error('onSnapshot error:',err);
          $('#loader').style.display='block';
          $('#loader').innerHTML=`<div class="alert alert-danger" role="alert">Gagal mengambil data. Periksa aturan keamanan Firestore Anda.</div>`;
        });
      },

      setupEventListeners(){
        $('#satker-select').addEventListener('change',(e)=>{
          this.currentSatker=e.target.value; localStorage.setItem('spip.currentSatker',this.currentSatker);
          this.listenForDataChanges();
        });

        document.addEventListener('click', (e)=>{
          const btn=e.target.closest('[data-action="open-modal"]');
          if(!btn) return;
          e.preventDefault();
          this.openModal(btn.getAttribute('data-param-code'))
              .catch(err=>console.error('openModal failed', err));
        });

        document.getElementById('assessment-form').addEventListener('submit', (e)=>{
          e.preventDefault();
          const f=e.currentTarget;
          if(!f.checkValidity()){ f.classList.add('was-validated'); return; }
          this.saveAssessment().catch(err=>console.error('save error',err));
        });

        // Bukti Dukung
        document.getElementById('grade-tabs').addEventListener('click', (e)=>{
          const btn=e.target.closest('button[data-grade]'); if(!btn) return;
          this.switchGrade(btn.dataset.grade);
        });

        document.getElementById('btn-open-drive-folder').addEventListener('click', ()=>{
          const fid = driveFolderIdFor(this.currentSatker, this.currentGrade);
          if(!fid){ alert('Folder Google Drive belum dikonfigurasi untuk unit/grade ini.'); return; }
          window.open(`https://drive.google.com/drive/folders/${fid}`, '_blank', 'noopener');
        });
      },

      async openModal(paramCode){
        const param = ASSESSMENT_STRUCTURE.find(p=>p.kode_parameter===paramCode); if(!param) return;
        document.getElementById('current-parameter-code').value=paramCode;
        document.getElementById('modal-parameter-title').textContent=`${param.kode_parameter} — ${param.uraian_parameter}`;

        // Kriteria + tooltip
        const html = param.grades.map(g=>`
          <p class="mb-1 small">
            <strong class="fw-semibold text-body-secondary">Grade ${g.grade}:</strong>
            ${g.kriteria}
            <button type="button" class="btn btn-link btn-sm p-0 align-baseline ms-1" data-bs-toggle="tooltip" data-bs-placement="top" title="${g.tooltip || 'yang terlampir sebagai berikut'}" aria-label="Info kriteria grade ${g.grade}">
              <i class="bi bi-info-circle"></i>
            </button>
          </p>`).join('');
        document.getElementById('modal-criteria-container').innerHTML=html;
        document.querySelectorAll('#assessment-modal [data-bs-toggle="tooltip"]').forEach(el => new bootstrap.Tooltip(el));

        // Prefill
        const exist = this.assessmentData[paramCode] || {};
        document.getElementById('metode-penilaian').value = exist.metode_penilaian || 'Wawancara';
        document.getElementById('simpulan').value = exist.simpulan || 'A';
        document.getElementById('hasil-pengujian').value = exist.hasil_pengujian || '';
        document.getElementById('uraian-aoi').value = exist.uraian_aoi || '';

        // Sestama fields / reference
        const isSestama = this.currentSatker === 'Sestama';
        const sestamaFields = document.getElementById('sestama-fields');
        const refCard = document.getElementById('sestama-reference');
        if (isSestama) {
          sestamaFields.classList.remove('d-none'); refCard.classList.add('d-none');
          document.getElementById('simpulan-sestama').value = exist.simpulan_sestama || '';
          document.getElementById('hasil-pengujian-sestama').value = exist.hasil_pengujian_sestama || '';
        } else {
          sestamaFields.classList.add('d-none'); refCard.classList.remove('d-none');
          try {
            let ref = this.sestamaCache.get(paramCode);
            if (!ref) {
              const sDoc = await getDoc(doc(this.db,'assessments','Sestama'));
              ref = sDoc.exists() ? (sDoc.data().parameters?.[paramCode] || {}) : {};
              this.sestamaCache.set(paramCode, ref);
            }
            document.getElementById('ref-simpulan-sestama').textContent = ref.simpulan_sestama || ref.simpulan || '—';
            document.getElementById('ref-uraian-sestama').textContent = ref.hasil_pengujian_sestama || ref.hasil_pengujian || 'Tidak ada rujukan';
          } catch(err){
            document.getElementById('ref-simpulan-sestama').textContent='—';
            document.getElementById('ref-uraian-sestama').innerHTML='<span class="text-danger">Gagal memuat rujukan Sestama</span>';
            console.error(err);
          }
        }

        // Bukti Dukung: Grade A default
        this.resetGradeTabs('A');
        this.currentGrade='A';
        await this.refreshDriveFiles();

        if (!this.bootstrapModal) this.bootstrapModal = new bootstrap.Modal($('#assessment-modal'));
        this.bootstrapModal.show();
      },

      async saveAssessment(){
        const paramCode=document.getElementById('current-parameter-code').value;
        const payload={
          metode_penilaian: document.getElementById('metode-penilaian').value,
          simpulan: document.getElementById('simpulan').value,
          hasil_pengujian: document.getElementById('hasil-pengujian').value.trim(),
          uraian_aoi: document.getElementById('uraian-aoi').value.trim()
        };
        if (this.currentSatker==='Sestama') {
          payload.simpulan_sestama = document.getElementById('simpulan-sestama').value || '';
          payload.hasil_pengujian_sestama = document.getElementById('hasil-pengujian-sestama').value.trim();
        }
        const docRef=doc(this.db,'assessments',this.currentSatker);
        await setDoc(docRef, { parameters:{ [paramCode]: { ...(this.assessmentData[paramCode]||{}), ...payload } }, updated_at:new Date().toISOString() }, { merge:true });
        if (this.bootstrapModal) this.bootstrapModal.hide();
      },

      // ====== Bukti Dukung (Google Drive VIEW) ======
      resetGradeTabs(active){
        document.querySelectorAll('#grade-tabs [data-grade]').forEach(btn=>{
          const isActive = btn.dataset.grade===active;
          btn.classList.toggle('btn-primary', isActive);
          btn.classList.toggle('btn-outline-primary', !isActive);
        });
      },

      switchGrade(grade){
        this.currentGrade = grade;
        this.resetGradeTabs(grade);
        this.refreshDriveFiles();
      },

      async refreshDriveFiles(){
        const listEl = document.getElementById('drive-file-list');
        const key = `${this.currentSatker}_${this.currentGrade}`;
        const folderId = driveFolderIdFor(this.currentSatker, this.currentGrade);

        if (!folderId) {
          listEl.innerHTML = '<div class="text-danger px-2 py-1">Folder Google Drive belum dikonfigurasi untuk unit/grade ini.</div>';
          return;
        }

        // tampilkan skeleton singkat
        listEl.innerHTML = `
          <div class="px-2 py-1 muted">Memuat dokumen…</div>
          <div class="list-group-item placeholder-glow"><span class="placeholder col-8"></span></div>
          <div class="list-group-item placeholder-glow"><span class="placeholder col-6"></span></div>
        `;

        // render dari cache jika ada (instan)
        if (driveCache.has(key)) {
          this.renderDriveFiles(driveCache.get(key));
        }

        // batalkan fetch sebelumnya jika ada
        if (driveFetchCtrl) driveFetchCtrl.abort();
        driveFetchCtrl = new AbortController();

        try{
          const files = await listDriveFolder(folderId, driveFetchCtrl.signal);
          driveCache.set(key, files);
          this.renderDriveFiles(files);
        }catch(err){
          if (err.name === 'AbortError') return;
          console.error(err);
          listEl.innerHTML = '<div class="text-danger px-2 py-1">Gagal memuat dari Google Drive. Cek API Key & izin folder.</div>';
        }
      },

      renderDriveFiles(files){
        const listEl = document.getElementById('drive-file-list');
        if(!files || !files.length){
          listEl.innerHTML = '<div class="muted px-2 py-1">Belum ada dokumen di Google Drive.</div>';
          return;
        }
        listEl.innerHTML = '';
        files.forEach(file=>{
          const row = document.createElement('div');
          row.className = 'list-group-item d-flex justify-content-between align-items-center';
          row.innerHTML = `
            <a href="${file.webViewLink}" target="_blank" rel="noopener" class="truncate">${file.name}</a>
            <button class="btn btn-sm btn-outline-primary">Preview</button>
          `;
          row.querySelector('button').addEventListener('click', ()=>{
            document.getElementById('preview-modal-title').textContent = file.name;
            document.getElementById('preview-iframe').src = drivePreviewUrl(file);
            previewModal?.show();
          });
          listEl.appendChild(row);
        });
      },

      updateProgress(){
        const total = ASSESSMENT_STRUCTURE.length;
        const done = Object.values(this.assessmentData||{}).filter(v=>v && v.simpulan).length;
        const pct = Math.round((done/Math.max(1,total))*100);
        const bar = document.getElementById('progress-bar');
        bar.style.width = pct + '%';
        bar.textContent = pct + '%';
        bar.setAttribute('aria-valuenow', pct);
      },

      updateLastSaved(ts){
        const el = document.getElementById('last-saved');
        if(!ts){ el.textContent = '—'; return; }
        try{
          const dt = new Date(ts);
          el.textContent = `Terakhir disimpan: ${dt.toLocaleString()}`;
        }catch{ el.textContent='—'; }
      }
    };

    // Start app
    window.addEventListener('DOMContentLoaded', ()=> App.init());
  

// ====== TOC HELPERS ======
window.openTocModal = function(kodeParam, unit){
  const param = ASSESSMENT_STRUCTURE.find(p=>p.kode_parameter===kodeParam);
  $('#toc-parameter-code').value = kodeParam;
  $('#toc-unit').value = unit;
  $('#toc-parameter-title').textContent = `${kodeParam} — ${param?.uraian_parameter||''}`;
  $('#toc-grade').value = 'C';
  $('#toc-criteria').innerHTML = `<div class="text-muted">Pilih grade untuk memuat kriteria…</div>`;
  $('#toc-drive-files').innerHTML = `<div class="text-muted px-2 py-1">Klik “Muat Dokumen Drive”.</div>`;
  $('#toc-notes').value = '';
  $('#toc-score').textContent = '0';
  const b = $('#toc-suggest-badge'); b.setAttribute('data-grade','E'); b.textContent='E';
  const m = new bootstrap.Modal($('#toc-modal')); m.show();
};

function explodeCriteria(text){
  if(!text) return [];
  const lines = text.split(/\r?\n/).map(s=>s.trim()).filter(Boolean);
  if(lines.length===1){
    return text.split(/;\s+|\.?\s*-\s+|•\s+|\n+/).map(s=>s.trim()).filter(Boolean);
  }
  return lines.map(s=>s.replace(/^[-•\d\.\)\s]+/,'')).filter(Boolean);
}
function criteriaTextByGrade(param, grade){
  const g = param?.grades?.find(x=>x.grade===grade);
  return g?.kriteria || "";
}
function suggestGradeByScore(pct){
  if(pct>=90) return 'A';
  if(pct>=75) return 'B';
  if(pct>=60) return 'C';
  if(pct>=40) return 'D';
  return 'E';
}
function updateSuggestBadge(pct){
  const grade = suggestGradeByScore(pct);
  const badge = $('#toc-suggest-badge');
  badge.setAttribute('data-grade', grade);
  badge.textContent = grade;
  $('#toc-score').textContent = String(Math.round(pct));
}

$('#toc-grade')?.addEventListener('change', ()=>{
  const kode = $('#toc-parameter-code').value;
  const param = ASSESSMENT_STRUCTURE.find(p=>p.kode_parameter===kode);
  const grade = $('#toc-grade').value;
  const items = explodeCriteria(criteriaTextByGrade(param, grade));
  const wrap = $('#toc-criteria');
  if(!items.length){
    wrap.innerHTML = `<div class="text-muted">Belum ada kriteria terdefinisi untuk grade ${grade}.</div>`;
    updateSuggestBadge(0);
    return;
  }
  wrap.innerHTML = items.map((t,i)=>`
    <div class="form-check mb-1">
      <input class="form-check-input toc-crit" type="checkbox" id="crit-${i}">
      <label class="form-check-label" for="crit-${i}">${t}</label>
    </div>
  `).join('');
  wrap.querySelectorAll('.toc-crit').forEach(cb=>{
    cb.addEventListener('change', ()=>{
      const list = [...wrap.querySelectorAll('.toc-crit')];
      const checked = list.filter(x=>x.checked).length;
      updateSuggestBadge( (checked / list.length) * 100 );
    });
  });
  updateSuggestBadge(0);
});

$('#toc-load-drive')?.addEventListener('click', async ()=>{
  const unit = $('#toc-unit').value;
  const grade = $('#toc-grade').value;
  const folderId = driveFolderIdFor(unit, grade);
  const listEl = $('#toc-drive-files');
  if(!folderId){ listEl.innerHTML = `<div class="text-danger px-2 py-1">Folder Drive untuk ${unit} grade ${grade} belum diset.</div>`; return; }
  listEl.innerHTML = `<div class="px-2 py-1 text-muted">Memuat…</div>`;
  try{
    const files = await listDriveFolder(folderId);
    if(!files.length){ listEl.innerHTML = `<div class="text-muted px-2 py-1">Tidak ada file pada folder ini.</div>`; return; }
    listEl.innerHTML = files.map(f=>`
      <label class="list-group-item d-flex align-items-center justify-content-between gap-2">
        <div class="me-auto">
          <div class="fw-semibold">${f.name}</div>
          <div class="small text-muted">${(new Date(f.modifiedTime)).toLocaleString()}</div>
        </div>
        <div class="d-flex align-items-center gap-2">
          <a class="btn btn-sm btn-outline-primary" target="_blank" href="${f.webViewLink}"><i class="bi bi-box-arrow-up-right"></i></a>
          <button type="button" class="btn btn-sm btn-outline-secondary" data-preview="${f.id}"><i class="bi bi-eye"></i></button>
          <div class="form-check ms-2">
            <input class="form-check-input toc-rel" type="checkbox" data-fileid="${f.id}">
            <label class="form-check-label small">Relevan</label>
          </div>
        </div>
      </label>
    `).join('');
    listEl.querySelectorAll('[data-preview]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('data-preview');
        $('#preview-iframe').src = `https://drive.google.com/file/d/${id}/preview`;
        const pm = new bootstrap.Modal($('#preview-modal'));
        pm.show();
      });
    });
  }catch(e){
    listEl.innerHTML = `<div class="text-danger px-2 py-1">Gagal memuat Drive: ${e.message}</div>`;
  }
});

$('#toc-open-folder')?.addEventListener('click', ()=>{
  const unit = $('#toc-unit').value;
  const grade = $('#toc-grade').value;
  const folderId = driveFolderIdFor(unit, grade);
  if(folderId) window.open(`https://drive.google.com/drive/folders/${folderId}`, '_blank');
});

$('#toc-save')?.addEventListener('click', async ()=>{
  try{
    const unit = $('#toc-unit').value;
    const kode = $('#toc-parameter-code').value;
    const grade = $('#toc-grade').value;
    const notes = $('#toc-notes').value.trim();
    const critEls = [...document.querySelectorAll('#toc-criteria .toc-crit')];
    const checkedIdx = critEls.map((el,i)=> el.checked ? i : -1).filter(i=>i>=0);
    const pct = Number($('#toc-score').textContent)||0;
    const recGrade = $('#toc-suggest-badge').textContent;
    const fileRel = [...document.querySelectorAll('#toc-drive-files .toc-rel')]
      .filter(el=>el.checked).map(el=>el.getAttribute('data-fileid'));
    const payload = { unit, kode, grade_uji: grade, criteria_checked: checkedIdx, percent: pct,
      recommended_grade: recGrade, notes, relevant_files: fileRel, ts: Date.now() };

    // save on Firestore under toc_preassessment/{unit}__{kode}
    await setDoc(doc(getFirestore(),'toc_preassessment', `${unit}__${kode}`), payload);
    alert('Pre-assessment TOC tersimpan!');
  }catch(e){
    alert('Gagal menyimpan TOC: '+e.message);
  }
});

</script>

  <script>
    // Export to PDF via browser print
    document.addEventListener('DOMContentLoaded', () => {
      const btn = document.getElementById('btn-export-pdf');
      if (btn) {
        btn.addEventListener('click', () => {
          // Pastikan konten utama tampil penuh sebelum print
          const main = document.getElementById('main-content');
          if (main && main.classList.contains('d-none')) {
            // kalau masih loading, tunggu sebentar
            setTimeout(() => window.print(), 300);
          } else {
            window.print();
          }
        });
      }
    });
  </script>


  <script>
    // === Collector untuk Dashboard (rekap A–E per unit) ===
    (function(){
      function collect(){
        try{
          const select = document.getElementById('satker-select');
          const unit = (select && select.value) ? select.value : 'Unit Tanpa Nama';
          // Hitung badge grade di kolom Grade
          const counts = {A:0,B:0,C:0,D:0,E:0};
          document.querySelectorAll('#assessment-table-body .badge[data-grade]').forEach(b=>{
            const g = b.getAttribute('data-grade');
            if (counts[g] != null) counts[g]++;
          });
          const total = Object.values(counts).reduce((a,b)=>a+b,0);
          const key = 'gradeDashboardData';
          const data = JSON.parse(localStorage.getItem(key) || '{}');
          data[unit] = { counts, total, updated_at: new Date().toISOString() };
          localStorage.setItem(key, JSON.stringify(data));
        }catch(e){/* noop */}
      }

      // Observasi perubahan tabel agar collector jalan otomatis
      document.addEventListener('DOMContentLoaded', () => {
        const tbody = document.getElementById('assessment-table-body');
        if (tbody){
          const mo = new MutationObserver(() => collect());
          mo.observe(tbody, { childList:true, subtree:true, attributes:false });
          // koleksi awal (jaga-jaga)
          setTimeout(collect, 700);
        } else {
          setTimeout(collect, 1000);
        }

        // Bila user ganti unit
        const satker = document.getElementById('satker-select');
        if (satker) satker.addEventListener('change', () => setTimeout(collect, 1000));
      });
    })();
  </script>

<!-- Modal TOC (Pre-Assessment Test of Control) -->
<div class="modal fade" id="toc-modal" tabindex="-1" aria-labelledby="tocTitle" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <div>
          <h1 class="modal-title h5" id="tocTitle">Test of Control (Pre-Assessment)</h1>
          <p id="toc-parameter-title" class="text-muted small mb-0"></p>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Tutup"></button>
      </div>
      <div class="modal-body">
        <form id="toc-form" novalidate>
          <input type="hidden" id="toc-parameter-code"/>
          <input type="hidden" id="toc-unit"/>

          <div class="row g-3 mb-3">
            <div class="col-md-4">
              <label class="form-label">Pilih Grade yang diuji</label>
              <select id="toc-grade" class="form-select" required>
                <option value="A">A</option><option value="B">B</option>
                <option value="C">C</option><option value="D">D</option><option value="E">E</option>
              </select>
              <div class="form-hint">Checklist kriteria & bukti akan dimuat sesuai grade.</div>
            </div>
            <div class="col-md-8 d-flex align-items-end gap-2">
              <button type="button" id="toc-load-drive" class="btn btn-outline-secondary btn-sm">
                <i class="bi bi-google me-1"></i> Muat Dokumen Drive (grade terpilih)
              </button>
              <button type="button" id="toc-open-folder" class="btn btn-outline-secondary btn-sm">
                <i class="bi bi-folder2-open me-1"></i> Buka Folder Drive
              </button>
            </div>
          </div>

          <div class="mb-3">
            <h3 class="h6 fw-semibold mb-2">Kriteria & Parameter</h3>
            <div id="toc-criteria" class="p-3 bg-light border rounded" style="max-height:220px;overflow:auto">
              <div class="text-muted">Pilih grade untuk memuat kriteria…</div>
            </div>
          </div>

          <div class="mb-3">
            <h3 class="h6 fw-semibold mb-2">Bukti Dukung (Google Drive)</h3>
            <div id="toc-drive-files" class="list-group list-group-flush small" style="min-height:3rem;">
              <div class="text-muted px-2 py-1">Klik “Muat Dokumen Drive”.</div>
            </div>
          </div>

          <div class="row g-3">
            <div class="col-lg-8">
              <label class="form-label">Catatan Pemeriksa</label>
              <textarea id="toc-notes" class="form-control" rows="3" placeholder="Ringkas hasil pengujian kontrol pada bukti yang dicek…"></textarea>
            </div>
            <div class="col-lg-4">
              <div class="card border-0 shadow-sm">
                <div class="card-body">
                  <div class="d-flex align-items-center gap-2 mb-1">
                    <i class="bi bi-activity text-primary"></i><strong>Skor Kepatuhan</strong>
                  </div>
                  <div class="h4 mb-2"><span id="toc-score">0</span>%</div>
                  <div class="d-flex align-items-center gap-2">
                    <span class="badge" id="toc-suggest-badge" data-grade="E">E</span>
                    <span class="small text-muted">Rekomendasi Grade</span>
                  </div>
                </div>
              </div>
              <div class="form-hint mt-2">
                Pemetaan skor → grade (default): ≥90 A, 75–89 B, 60–74 C, 40–59 D, &lt;40 E.
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button>
        <button id="toc-save" class="btn btn-primary"><span class="me-1">💾</span>Simpan Pre-Assessment</button>
      </div>
    </div>
  </div>
</div>
</body>
</html>

